//>>built
require({cache:{"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(a,n,k,m){function f(b,c,e,l,d,g){g=g||"px";b=b.style;isNaN(c)||(b.left=c+g);isNaN(e)||(b.top=e+g);0<=l&&(b.width=l+g);0<=d&&(b.height=d+g)}function h(b){return"button"==b.tagName.toLowerCase()||"input"==b.tagName.toLowerCase()&&"button"==(b.getAttribute("type")||"").toLowerCase()}function g(b){return"border-box"==d.boxModel||"table"==b.tagName.toLowerCase()||h(b)}var d={boxModel:"content-box"};
a("ie")&&(d.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");d.getPadExtents=function(b,c){b=k.byId(b);var e=c||m.getComputedStyle(b),l=m.toPixelValue,d=l(b,e.paddingLeft),g=l(b,e.paddingTop),p=l(b,e.paddingRight),e=l(b,e.paddingBottom);return{l:d,t:g,r:p,b:e,w:d+p,h:g+e}};d.getBorderExtents=function(b,c){b=k.byId(b);var e=m.toPixelValue,l=c||m.getComputedStyle(b),d="none"!=l.borderLeftStyle?e(b,l.borderLeftWidth):0,g="none"!=l.borderTopStyle?e(b,l.borderTopWidth):0,p="none"!=
l.borderRightStyle?e(b,l.borderRightWidth):0,e="none"!=l.borderBottomStyle?e(b,l.borderBottomWidth):0;return{l:d,t:g,r:p,b:e,w:d+p,h:g+e}};d.getPadBorderExtents=function(b,c){b=k.byId(b);var e=c||m.getComputedStyle(b),l=d.getPadExtents(b,e),e=d.getBorderExtents(b,e);return{l:l.l+e.l,t:l.t+e.t,r:l.r+e.r,b:l.b+e.b,w:l.w+e.w,h:l.h+e.h}};d.getMarginExtents=function(b,c){b=k.byId(b);var e=c||m.getComputedStyle(b),l=m.toPixelValue,d=l(b,e.marginLeft),g=l(b,e.marginTop),p=l(b,e.marginRight),e=l(b,e.marginBottom);
return{l:d,t:g,r:p,b:e,w:d+p,h:g+e}};d.getMarginBox=function(b,c){b=k.byId(b);var e=c||m.getComputedStyle(b),l=d.getMarginExtents(b,e),g=b.offsetLeft-l.l,h=b.offsetTop-l.t,p=b.parentNode,f=m.toPixelValue;if(a("mozilla")){var s=parseFloat(e.left),e=parseFloat(e.top);!isNaN(s)&&!isNaN(e)?(g=s,h=e):p&&p.style&&(p=m.getComputedStyle(p),"visible"!=p.overflow&&(g+="none"!=p.borderLeftStyle?f(b,p.borderLeftWidth):0,h+="none"!=p.borderTopStyle?f(b,p.borderTopWidth):0))}else if((a("opera")||8==a("ie")&&!a("quirks"))&&
p)p=m.getComputedStyle(p),g-="none"!=p.borderLeftStyle?f(b,p.borderLeftWidth):0,h-="none"!=p.borderTopStyle?f(b,p.borderTopWidth):0;return{l:g,t:h,w:b.offsetWidth+l.w,h:b.offsetHeight+l.h}};d.getContentBox=function(b,c){b=k.byId(b);var e=c||m.getComputedStyle(b),l=b.clientWidth,g=d.getPadExtents(b,e),h=d.getBorderExtents(b,e);l?(e=b.clientHeight,h.w=h.h=0):(l=b.offsetWidth,e=b.offsetHeight);a("opera")&&(g.l+=h.l,g.t+=h.t);return{l:g.l,t:g.t,w:l-g.w-h.w,h:e-g.h-h.h}};d.setContentSize=function(b,c,
e){b=k.byId(b);var l=c.w;c=c.h;g(b)&&(e=d.getPadBorderExtents(b,e),0<=l&&(l+=e.w),0<=c&&(c+=e.h));f(b,NaN,NaN,l,c)};var c={l:0,t:0,w:0,h:0};d.setMarginBox=function(b,q,e){b=k.byId(b);var l=e||m.getComputedStyle(b);e=q.w;var u=q.h,r=g(b)?c:d.getPadBorderExtents(b,l),l=d.getMarginExtents(b,l);if(a("webkit")&&h(b)){var p=b.style;0<=e&&!p.width&&(p.width="4px");0<=u&&!p.height&&(p.height="4px")}0<=e&&(e=Math.max(e-r.w-l.w,0));0<=u&&(u=Math.max(u-r.h-l.h,0));f(b,q.l,q.t,e,u)};d.isBodyLtr=function(b){b=
b||n.doc;return"ltr"==(n.body(b).dir||b.documentElement.dir||"ltr").toLowerCase()};d.docScroll=function(b){b=b||n.doc;var c=n.doc.parentWindow||n.doc.defaultView;return"pageXOffset"in c?{x:c.pageXOffset,y:c.pageYOffset}:(c=a("quirks")?n.body(b):b.documentElement)&&{x:d.fixIeBiDiScrollLeft(c.scrollLeft||0,b),y:c.scrollTop||0}};a("ie")&&(d.getIeDocumentElementOffset=function(b){b=b||n.doc;b=b.documentElement;if(8>a("ie")){var c=b.getBoundingClientRect(),e=c.left,c=c.top;7>a("ie")&&(e+=b.clientLeft,
c+=b.clientTop);return{x:0>e?0:e,y:0>c?0:c}}return{x:0,y:0}});d.fixIeBiDiScrollLeft=function(b,c){c=c||n.doc;var e=a("ie");if(e&&!d.isBodyLtr(c)){var l=a("quirks"),g=l?n.body(c):c.documentElement,h=n.global;6==e&&(!l&&h.frameElement&&g.scrollHeight>g.clientHeight)&&(b+=g.clientLeft);return 8>e||l?b+g.clientWidth-g.scrollWidth:-b}return b};d.position=function(b,c){b=k.byId(b);var e=n.body(b.ownerDocument),l=b.getBoundingClientRect(),l={x:l.left,y:l.top,w:l.right-l.left,h:l.bottom-l.top};if(9>a("ie")){var g=
d.getIeDocumentElementOffset(b.ownerDocument);l.x-=g.x+(a("quirks")?e.clientLeft+e.offsetLeft:0);l.y-=g.y+(a("quirks")?e.clientTop+e.offsetTop:0)}c&&(e=d.docScroll(b.ownerDocument),l.x+=e.x,l.y+=e.y);return l};d.getMarginSize=function(b,c){b=k.byId(b);var e=d.getMarginExtents(b,c||m.getComputedStyle(b)),l=b.getBoundingClientRect();return{w:l.right-l.left+e.w,h:l.bottom-l.top+e.h}};d.normalizeEvent=function(b){"layerX"in b||(b.layerX=b.offsetX,b.layerY=b.offsetY);if(!a("dom-addeventlistener")){var c=
b.target,c=c&&c.ownerDocument||document,e=a("quirks")?c.body:c.documentElement,l=d.getIeDocumentElementOffset(c);b.pageX=b.clientX+d.fixIeBiDiScrollLeft(e.scrollLeft||0,c)-l.x;b.pageY=b.clientY+(e.scrollTop||0)-l.y}};return d})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(a,n,k){function m(b){return g[b]=new Function("item","index","array",b)}function f(b){var c=!b;return function(e,l,d){var a=0,p=e&&e.length||0,h;p&&"string"==typeof e&&(e=e.split(""));"string"==typeof l&&
(l=g[l]||m(l));if(d)for(;a<p;++a){if(h=!l.call(d,e[a],a,e),b^h)return!h}else for(;a<p;++a)if(h=!l(e[a],a,e),b^h)return!h;return c}}function h(b){var g=1,e=0,l=0;b||(g=e=l=-1);return function(a,h,p,f){if(f&&0<g)return c.lastIndexOf(a,h,p);f=a&&a.length||0;var m=b?f+l:e;p===d?p=b?e:f+l:0>p?(p=f+p,0>p&&(p=e)):p=p>=f?f+l:p;for(f&&"string"==typeof a&&(a=a.split(""));p!=m;p+=g)if(a[p]==h)return p;return-1}}var g={},d,c={every:f(!1),some:f(!0),indexOf:h(!0),lastIndexOf:h(!1),forEach:function(b,c,e){var l=
0,d=b&&b.length||0;d&&"string"==typeof b&&(b=b.split(""));"string"==typeof c&&(c=g[c]||m(c));if(e)for(;l<d;++l)c.call(e,b[l],l,b);else for(;l<d;++l)c(b[l],l,b)},map:function(b,c,e,l){var d=0,a=b&&b.length||0;l=new (l||Array)(a);a&&"string"==typeof b&&(b=b.split(""));"string"==typeof c&&(c=g[c]||m(c));if(e)for(;d<a;++d)l[d]=c.call(e,b[d],d,b);else for(;d<a;++d)l[d]=c(b[d],d,b);return l},filter:function(b,c,e){var l=0,d=b&&b.length||0,a=[],p;d&&"string"==typeof b&&(b=b.split(""));"string"==typeof c&&
(c=g[c]||m(c));if(e)for(;l<d;++l)p=b[l],c.call(e,p,l,b)&&a.push(p);else for(;l<d;++l)p=b[l],c(p,l,b)&&a.push(p);return a},clearCache:function(){g={}}};k.mixin(a,c);return c})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(a,n,k,m,f,h,g){var d=function(){},c=Object.freeze||function(){},b=a.Deferred=function(g){function e(b){if(r)throw Error("This deferred has already been resolved");a=b;r=!0;l()}function l(){for(var b;!b&&
w;){var e=w;w=w.next;if(b=e.progress==d)r=!1;var c=s?e.error:e.resolved;f("config-useDeferredInstrumentation")&&s&&n.instrumentRejected&&n.instrumentRejected(a,!!c);if(c)try{var l=c(a);l&&"function"===typeof l.then?l.then(h.hitch(e.deferred,"resolve"),h.hitch(e.deferred,"reject"),h.hitch(e.deferred,"progress")):(c=b&&void 0===l,b&&!c&&(s=l instanceof Error),e.deferred[c&&s?"reject":"resolve"](c?a:l))}catch(g){e.deferred.reject(g)}else s?e.deferred.reject(a):e.deferred.resolve(a)}}var a,r,p,t,s,x,
w,y=this.promise=new k;this.isResolved=y.isResolved=function(){return 0==t};this.isRejected=y.isRejected=function(){return 1==t};this.isFulfilled=y.isFulfilled=function(){return 0<=t};this.isCanceled=y.isCanceled=function(){return p};this.resolve=this.callback=function(b){this.fired=t=0;this.results=[b,null];e(b)};this.reject=this.errback=function(b){s=!0;this.fired=t=1;f("config-useDeferredInstrumentation")&&n.instrumentRejected&&n.instrumentRejected(b,!!w);e(b);this.results=[null,b]};this.progress=
function(b){for(var e=w;e;){var c=e.progress;c&&c(b);e=e.next}};this.addCallbacks=function(b,e){this.then(b,e,d);return this};y.then=this.then=function(e,c,g){var p=g==d?this:new b(y.cancel);e={resolved:e,error:c,progress:g,deferred:p};w?x=x.next=e:w=x=e;r&&l();return p.promise};var v=this;y.cancel=this.cancel=function(){if(!r){var b=g&&g(v);r||(b instanceof Error||(b=new m(b)),b.log=!1,v.reject(b))}p=!0};c(y)};h.extend(b,{addCallback:function(b){return this.addCallbacks(h.hitch.apply(a,arguments))},
addErrback:function(b){return this.addCallbacks(null,h.hitch.apply(a,arguments))},addBoth:function(b){var e=h.hitch.apply(a,arguments);return this.addCallbacks(e,e)},fired:-1});b.when=a.when=g;return b})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(a,n,k,m,f,h){function g(){for(var g=+new Date,e=0,l;e<b.length&&(l=b[e]);e++){var a=l.response,h=
a.options;if(l.isCanceled&&l.isCanceled()||l.isValid&&!l.isValid(a))b.splice(e--,1),d._onAction&&d._onAction();else if(l.isReady&&l.isReady(a))b.splice(e--,1),l.handleResponse(a),d._onAction&&d._onAction();else if(l.startTime&&l.startTime+(h.timeout||0)<g)b.splice(e--,1),l.cancel(new n("Timeout exceeded",a)),d._onAction&&d._onAction()}d._onInFlight&&d._onInFlight(l);b.length||(clearInterval(c),c=null)}function d(d){d.response.options.timeout&&(d.startTime=+new Date);d.isFulfilled()||(b.push(d),c||
(c=setInterval(g,50)),d.response.options.sync&&g())}var c=null,b=[];d.cancelAll=function(){try{m.forEach(b,function(b){try{b.cancel(new k("All requests canceled."))}catch(c){}})}catch(c){}};f&&(h&&f.doc.attachEvent)&&h(f.global,"unload",function(){d.cancelAll()});return d})},"esri/symbols/SimpleMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(a,n,k,m,f,h,g,d,c){var b=
{STYLE_CIRCLE:"circle",STYLE_SQUARE:"square",STYLE_CROSS:"cross",STYLE_X:"x",STYLE_DIAMOND:"diamond",STYLE_PATH:"path",STYLE_TARGET:"target"},q={style:b.STYLE_CIRCLE,color:[255,255,255,0.25],size:12,angle:0,xoffset:0,yoffset:0};a=a(d,{declaredClass:"esri.symbol.SimpleMarkerSymbol",type:"simplemarkersymbol",_styles:{circle:"esriSMSCircle",square:"esriSMSSquare",cross:"esriSMSCross",x:"esriSMSX",diamond:"esriSMSDiamond",path:"esriSMSPath"},constructor:function(e,l,d,a){e?n.isString(e)?(this.style=e,
l&&(this.size=l),d&&(this.outline=d),a&&(this.color=a)):(this.style=g.valueOf(this._styles,this.style),e.outline&&(this.outline=new c(e.outline))):(n.mixin(this,q),this.size=f.pt2px(this.size),this.outline=new c(this.outline),this.color=new k(this.color));this.style||(this.style=b.STYLE_CIRCLE)},setStyle:function(b){this.style=b;return this},setPath:function(e){this.path=e;this.setStyle(b.STYLE_PATH);return this},setOutline:function(b){this.outline=b;return this},getStroke:function(){return this.outline&&
this.outline.getStroke()},getFill:function(){return this.color},_setDim:function(b,c,d){this._targetWidth=b;this._targetHeight=c;this._spikeSize=d},getShapeDescriptors:function(){var e,c,d,g=this.style,p=(this.size||f.pt2px(q.size))/2,a=0-p,h=0+p,m=0-p,k=0+p;switch(g){case b.STYLE_CIRCLE:e={type:"circle",cx:0,cy:0,r:p};c=this.getFill();if(d=this.getStroke())d.style=d.style||"Solid";break;case b.STYLE_CROSS:e={type:"path",path:"M "+a+",0 L "+h+",0 M 0,"+m+" L 0,"+k+" E"};c=null;d=this.getStroke();
break;case b.STYLE_DIAMOND:e={type:"path",path:"M "+a+",0 L 0,"+m+" L "+h+",0 L 0,"+k+" L "+a+",0 E"};c=this.getFill();d=this.getStroke();break;case b.STYLE_SQUARE:e={type:"path",path:"M "+a+","+k+" L "+a+","+m+" L "+h+","+m+" L "+h+","+k+" L "+a+","+k+" E"};c=this.getFill();d=this.getStroke();break;case b.STYLE_X:e={type:"path",path:"M "+a+","+k+" L "+h+","+m+" M "+a+","+m+" L "+h+","+k+" E"};c=null;d=this.getStroke();break;case b.STYLE_PATH:e={type:"path",path:this.path||""},c=this.getFill(),d=
this.getStroke()}return{defaultShape:e,fill:c,stroke:d}},toJson:function(){var b=n.mixin(this.inherited("toJson",arguments),{type:"esriSMS",style:this._styles[this.style]}),c=this.outline;c&&(b.outline=c.toJson());b.path=this.path;return g.fixJson(b)}});n.mixin(a,b);a.defaultProps=q;return a})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(a,n){if(7>=a("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(k){}var m={};a("ie")?m.byId=function(a,g){if("string"!=typeof a)return a;
var d=g||n.doc,c=a&&d.getElementById(a);if(c&&(c.attributes.id.value==a||c.id==a))return c;d=d.all[a];if(!d||d.nodeName)d=[d];for(var b=0;c=d[b++];)if(c.attributes&&c.attributes.id&&c.attributes.id.value==a||c.id==a)return c}:m.byId=function(a,g){return("string"==typeof a?(g||n.doc).getElementById(a):a)||null};m.isDescendant=function(a,g){try{a=m.byId(a);for(g=m.byId(g);a;){if(a==g)return!0;a=a.parentNode}}catch(d){}return!1};a.add("css-user-select",function(a,g,d){if(!d)return!1;a=d.style;g=["Khtml",
"O","ms","Moz","Webkit"];d=g.length;var c="userSelect";do if("undefined"!==typeof a[c])return c;while(d--&&(c=g[d]+"UserSelect"));return!1});var f=a("css-user-select");m.setSelectable=f?function(a,g){m.byId(a).style[f]=g?"":"none"}:function(a,g){a=m.byId(a);var d=a.getElementsByTagName("*"),c=d.length;if(g)for(a.removeAttribute("unselectable");c--;)d[c].removeAttribute("unselectable");else for(a.setAttribute("unselectable","on");c--;)d[c].setAttribute("unselectable","on")};return m})},"esri/sniff":function(){define(["../dojo/_base/sniff",
"./kernel"],function(a,n){var k=a("ff"),m=a("ie"),f=a("webkit"),h=a("opera"),g=a("chrome"),d=a("safari"),c=navigator.userAgent,b;(b=c.match(/(iPhone|iPad|CPU)\s+OS\s+(\d+\_\d+)/i))&&a.add("esri-iphone",parseFloat(b[2].replace("_",".")));(b=c.match(/Android\s+(\d+\.\d+)/i))&&a.add("esri-android",parseFloat(b[1]));(b=c.match(/Fennec\/(\d+\.\d+)/i))&&a.add("esri-fennec",parseFloat(b[1]));0<=c.indexOf("BlackBerry")&&0<=c.indexOf("WebKit")&&a.add("esri-blackberry",1);a.add("esri-touch",a("esri-iphone")||
a("esri-android")||a("esri-blackberry")||6<=a("esri-fennec")||(k||f)&&document.createTouch?!0:!1);a.add("esri-pointer",navigator.pointerEnabled||navigator.msPointerEnabled);n._getDOMAccessor=function(b){var e="";k?e="Moz":f?e="Webkit":m?e="ms":h&&(e="O");return e+b.charAt(0).toUpperCase()+b.substr(1)};a.add("esri-phonegap",!!window.cordova);a.add("esri-cors",4<=g||3.5<=k||4<=d||10<=m||a("esri-phonegap"));a.add("esri-file-upload",window.FormData&&window.FileList?!0:!1);a.add("esri-workers",window.Worker?
!0:!1);a.add("esri-transforms",9<=m||3.5<=k||4<=g||3.1<=d||10.5<=h||3.2<=a("esri-iphone")||2.1<=a("esri-android"));a.add("esri-transitions",10<=m||4<=k||4<=g||3.1<=d||10.5<=h||3.2<=a("esri-iphone")||2.1<=a("esri-android"));a.add("esri-transforms3d",11<=m||10<=k||12<=g||4<=d||3.2<=a("esri-iphone")||3<=a("esri-android"));a.add("esri-url-encodes-apostrophe",function(){var b=window.document.createElement("a");b.href="?'";return-1<b.href.indexOf("?%27")});3>a("esri-android")&&(a.add("esri-transforms",
!1,!1,!0),a.add("esri-transitions",!1,!1,!0),a.add("esri-transforms3d",!1,!1,!0));n._css=function(b){var e=a("esri-transforms3d");if(void 0!==b&&null!==b)e=b;else if(e&&(g||d&&!a("esri-iphone")))e=!1;var c=e?"translate3d(":"translate(",u=e?g?",-1px)":",0px)":")",r=e?"scale3d(":"scale(",p=e?",1)":")",t=e?"rotate3d(0,0,1,":"rotate(",s=e?"matrix3d(":"matrix(",n=e?",0,0,":",",w=e?",0,0,0,0,1,0,":",",y=e?",0,1)":")";return{names:{transition:f&&"-webkit-transition"||k&&"MozTransition"||h&&"OTransition"||
m&&"msTransition",transform:f&&"-webkit-transform"||k&&"MozTransform"||h&&"OTransform"||m&&"msTransform",transformName:f&&"-webkit-transform"||k&&"-moz-transform"||h&&"-o-transform"||m&&"-ms-transform",origin:f&&"-webkit-transform-origin"||k&&"MozTransformOrigin"||h&&"OTransformOrigin"||m&&"msTransformOrigin",endEvent:f&&"webkitTransitionEnd"||k&&"transitionend"||h&&"oTransitionEnd"||m&&"MSTransitionEnd"},translate:function(b,e){return c+b+"px,"+e+"px"+u},scale:function(b){return r+b+","+b+p},rotate:function(b){return t+
b+"deg)"},matrix:function(b){return s+b.xx+","+b.xy+n+b.yx+","+b.yy+w+b.dx.toFixed(10)+(k?"px,":",")+b.dy.toFixed(10)+(k?"px":"")+y}}};return a})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(a,n){function k(e,c,d){c=c.toLowerCase();if(a("ie")){if("auto"==d){if("height"==c)return e.offsetHeight;if("width"==c)return e.offsetWidth}if("fontweight"==c)switch(d){case 700:return"bold";default:return"normal"}}c in b||(b[c]=q.test(c));return b[c]?h(e,d):d}var m,f={};m=a("webkit")?function(b){var e;
if(1==b.nodeType){var c=b.ownerDocument.defaultView;e=c.getComputedStyle(b,null);!e&&b.style&&(b.style.display="",e=c.getComputedStyle(b,null))}return e||{}}:a("ie")&&(9>a("ie")||a("quirks"))?function(b){return 1==b.nodeType&&b.currentStyle?b.currentStyle:{}}:function(b){return 1==b.nodeType?b.ownerDocument.defaultView.getComputedStyle(b,null):{}};f.getComputedStyle=m;var h;h=a("ie")?function(b,e){if(!e)return 0;if("medium"==e)return 4;if(e.slice&&"px"==e.slice(-2))return parseFloat(e);var c=b.style,
d=b.runtimeStyle,a=c.left,g=d.left;d.left=b.currentStyle.left;try{c.left=e,e=c.pixelLeft}catch(q){e=0}c.left=a;d.left=g;return e}:function(b,e){return parseFloat(e)||0};f.toPixelValue=h;var g=function(b,e){try{return b.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return e?{}:null}},d=9>a("ie")||10>a("ie")&&a("quirks")?function(b){try{return g(b).Opacity/100}catch(e){return 1}}:function(b){return m(b).opacity},c=9>a("ie")||10>a("ie")&&a("quirks")?function(b,e){""===e&&(e=1);var d=100*
e;1===e?(b.style.zoom="",g(b)&&(b.style.filter=b.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(b.style.zoom=1,g(b)?g(b,1).Opacity=d:b.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+d+")",g(b,1).Enabled=!0);if("tr"==b.tagName.toLowerCase())for(d=b.firstChild;d;d=d.nextSibling)"td"==d.tagName.toLowerCase()&&c(d,e);return e}:function(b,e){return b.style.opacity=e},b={left:!0,top:!0},q=/margin|padding|width|height|max|min|offset/,e={cssFloat:1,
styleFloat:1,"float":1};f.get=function(b,c){var a=n.byId(b),g=arguments.length;if(2==g&&"opacity"==c)return d(a);c=e[c]?"cssFloat"in a.style?"cssFloat":"styleFloat":c;var q=f.getComputedStyle(a);return 1==g?q:k(a,c,q[c]||a.style[c])};f.set=function(b,d,a){var g=n.byId(b),q=arguments.length,h="opacity"==d;d=e[d]?"cssFloat"in g.style?"cssFloat":"styleFloat":d;if(3==q)return h?c(g,a):g.style[d]=a;for(var m in d)f.set(b,m,d[m]);return f.getComputedStyle(g)};return f})},"dojo/dom-form":function(){define(["./_base/lang",
"./dom","./io-query","./json"],function(a,n,k,m){var f={fieldToObject:function(a){var g=null;if(a=n.byId(a)){var d=a.name,c=(a.type||"").toLowerCase();if(d&&c&&!a.disabled)if("radio"==c||"checkbox"==c)a.checked&&(g=a.value);else if(a.multiple){g=[];for(a=[a.firstChild];a.length;)for(d=a.pop();d;d=d.nextSibling)if(1==d.nodeType&&"option"==d.tagName.toLowerCase())d.selected&&g.push(d.value);else{d.nextSibling&&a.push(d.nextSibling);d.firstChild&&a.push(d.firstChild);break}}else g=a.value}return g},
toObject:function(h){var g={};h=n.byId(h).elements;for(var d=0,c=h.length;d<c;++d){var b=h[d],q=b.name,e=(b.type||"").toLowerCase();if(q&&e&&0>"file|submit|image|reset|button".indexOf(e)&&!b.disabled){var l=g,m=q,b=f.fieldToObject(b);if(null!==b){var k=l[m];"string"==typeof k?l[m]=[k,b]:a.isArray(k)?k.push(b):l[m]=b}"image"==e&&(g[q+".x"]=g[q+".y"]=g[q].x=g[q].y=0)}}return g},toQuery:function(a){return k.objectToQuery(f.toObject(a))},toJson:function(a,g){return m.stringify(f.toObject(a),null,g?4:
0)}};return f})},"esri/kernel":function(){define(["../dojo/_base/kernel","dojo/_base/config","dojo/has"],function(a,n,k){a=window.location;k=a.pathname;k={version:"3.10",_appBaseUrl:a.protocol+"//"+a.host+k.substring(0,k.lastIndexOf(k.split("/")[k.split("/").length-1]))};n.noGlobals||(window.esri=k);(k.dijit=k.dijit||{})._arcgisUrl=("file:"===a.protocol?"http:":a.protocol)+"//www.arcgis.com/sharing/rest";return k})},"esri/symbols/jsonUtils":function(){define("dojo/_base/lang dojo/has ../kernel ./SimpleMarkerSymbol ./PictureMarkerSymbol ./SimpleLineSymbol ./CartographicLineSymbol ./SimpleFillSymbol ./PictureFillSymbol ./TextSymbol".split(" "),
function(a,n,k,m,f,h,g,d,c,b){return{fromJson:function(a){var e=null;switch(a.type){case "esriSMS":e=new m(a);break;case "esriPMS":e=new f(a);break;case "esriTS":e=new b(a);break;case "esriSLS":e=void 0!==a.cap?new g(a):new h(a);break;case "esriCLS":e=new g(a);break;case "esriSFS":e=new d(a);break;case "esriPFS":e=new c(a)}return e},getShapeDescriptors:function(b){return b&&b.getShapeDescriptors?b.getShapeDescriptors():{defaultShape:null,fill:null,stroke:null}}}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(a){function n(){throw new TypeError("abstract");}return a.extend(function(){},{then:function(a,m,f){n()},cancel:function(a,m){n()},isResolved:function(){n()},isRejected:function(){n()},isFulfilled:function(){n()},isCanceled:function(){n()},always:function(a){return this.then(a,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"esri/renderers/SymbolAger":function(){define(["../dojo/_base/declare",
"dojo/_base/lang","dojo/has","../kernel"],function(a,n,k,m){return a(null,{declaredClass:"esri.renderer.SymbolAger",getAgedSymbol:function(a,h){},_setSymbolSize:function(a,h){switch(a.type){case "simplemarkersymbol":a.setSize(h);break;case "picturemarkersymbol":a.setWidth(h);a.setHeight(h);break;case "simplelinesymbol":case "cartographiclinesymbol":a.setWidth(h);break;case "simplefillsymbol":case "picturefillsymbol":a.outline&&a.outline.setWidth(h)}}})})},"dojo/request/handlers":function(){define(["../json",
"../_base/kernel","../_base/array","../has","../selector/_loader"],function(a,n,k,m){function f(c){var b=d[c.options.handleAs];c.data=b?b(c):c.data||c.text;return c}m.add("activex","undefined"!==typeof ActiveXObject);m.add("dom-parser",function(c){return"DOMParser"in c});var h;if(m("activex")){var g=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];h=function(c){var b=c.data;b&&(m("dom-qsa2.1")&&!b.querySelectorAll&&m("dom-parser"))&&(b=(new DOMParser).parseFromString(c.text,
"application/xml"));if(!b||!b.documentElement){var d=c.text;k.some(g,function(e){try{var c=new ActiveXObject(e);c.async=!1;c.loadXML(d);b=c}catch(a){return!1}return!0})}return b}}var d={javascript:function(c){return n.eval(c.text||"")},json:function(c){return a.parse(c.text||null)},xml:h};f.register=function(c,b){d[c]=b};return f})},"esri/symbols/CartographicLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./SimpleLineSymbol".split(" "),
function(a,n,k,m,f,h,g,d){var c={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_INSIDE_FRAME:"insideframe",STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot",CAP_BUTT:"butt",CAP_ROUND:"round",CAP_SQUARE:"square",JOIN_MITER:"miter",JOIN_ROUND:"round",JOIN_BEVEL:"bevel"},b={color:[0,
0,0,1],style:c.STYLE_SOLID,width:1,cap:c.CAP_BUTT,join:c.JOIN_MITER,miterLimit:10};a=a(d,{declaredClass:"esri.symbol.CartographicLineSymbol",type:"cartographiclinesymbol",_caps:{butt:"esriLCSButt",round:"esriLCSRound",square:"esriLCSSquare"},_joins:{miter:"esriLJSMiter",round:"esriLJSRound",bevel:"esriLJSBevel"},constructor:function(c,e,d,a,h,p){c?n.isString(c)?(this.style=c,e&&(this.color=e),void 0!==d&&(this.width=d),a&&(this.cap=a),h&&(this.join=h),void 0!==p&&(this.miterLimit=p)):(this.cap=g.valueOf(this._caps,
c.cap),this.join=g.valueOf(this._joins,c.join),this.width=f.pt2px(c.width),this.miterLimit=f.pt2px(c.miterLimit)):(n.mixin(this,b),this.color=new k(this.color),this.width=f.pt2px(this.width),this.miterLimit=f.pt2px(this.miterLimit))},setCap:function(b){this.cap=b;return this},setJoin:function(b){this.join=b;return this},setMiterLimit:function(b){this.miterLimit=b;return this},getStroke:function(){return n.mixin(this.inherited("getStroke",arguments),{cap:this.cap,join:this.join===c.JOIN_MITER?this.miterLimit:
this.join})},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},toJson:function(){var b=f.px2pt(this.miterLimit),b=isNaN(b)?void 0:b;return g.fixJson(n.mixin(this.inherited("toJson",arguments),{type:"esriCLS",cap:this._caps[this.cap],join:this._joins[this.join],miterLimit:b}))}});n.mixin(a,c);a.defaultProps=b;return a})},"dojo/aspect":function(){define([],function(){function a(d,c,b,a){var e=
d[c],g="around"==c,f;if(g){var h=b(function(){return e.advice(this,arguments)});f={remove:function(){h&&(h=d=b=null)},advice:function(b,c){return h?h.apply(b,c):e.advice(b,c)}}}else f={remove:function(){if(f.advice){var e=f.previous,a=f.next;!a&&!e?delete d[c]:(e?e.next=a:d[c]=a,a&&(a.previous=e));d=b=f.advice=null}},id:m++,advice:b,receiveArguments:a};if(e&&!g)if("after"==c){for(;e.next&&(e=e.next););e.next=f;f.previous=e}else"before"==c&&(d[c]=f,f.next=e,e.previous=f);else d[c]=f;return f}function n(d){return function(c,
b,g,e){var l=c[b],f;if(!l||l.target!=c)c[b]=f=function(){for(var b=m,e=arguments,c=f.before;c;)e=c.advice.apply(this,e)||e,c=c.next;if(f.around)var a=f.around.advice(this,e);for(c=f.after;c&&c.id<b;){if(c.receiveArguments)var d=c.advice.apply(this,e),a=d===k?a:d;else a=c.advice.call(this,a,e);c=c.next}return a},l&&(f.around={advice:function(b,e){return l.apply(b,e)}}),f.target=c;c=a(f||l,d,g,e);g=null;return c}}var k,m=0,f=n("after"),h=n("before"),g=n("around");return{before:h,around:g,after:f}})},
"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(a,n){var k={};a.setObject("dojo.cldr.supplemental",k);k.getFirstDayOfWeek=function(a){a={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,
sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[k._region(a)];return void 0===a?1:a};k._region=function(a){a=n.normalizeLocale(a);a=a.split("-");var f=a[1];f?4==f.length&&(f=a[2]):f={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",
fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",
mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",
ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",
dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",
kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",
niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",
tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[a[0]];return f};k.getWeekend=function(a){var f=k._region(a);a={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[f];f={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,
ma:6,qa:6,sd:6,sy:6,tn:6}[f];void 0===a&&(a=6);void 0===f&&(f=0);return{start:a,end:f}};return k})},"dojo/errors/CancelError":function(){define(["./create"],function(a){return a("CancelError",null,null,{dojoType:"cancel"})})},"dojo/topic":function(){define(["./Evented"],function(a){var n=new a;return{publish:function(a,m){return n.emit.apply(n,arguments)},subscribe:function(a,m){return n.on.apply(n,arguments)}}})},"esri/renderers/TemporalRenderer":function(){define(["../dojo/_base/declare","dojo/_base/lang",
"dojo/has","../kernel","./Renderer"],function(a,n,k,m,f){return a(f,{declaredClass:"esri.renderer.TemporalRenderer",constructor:function(a,g,d,c){this.observationRenderer=a;this.latestObservationRenderer=g;this.trackRenderer=d;this.observationAger=c},getSymbol:function(a){var g=a.getLayer(),d=this.getObservationRenderer(a),c=d&&d.getSymbol(a),b=this.observationAger;g.timeInfo&&(g._map.timeExtent&&d===this.observationRenderer&&b&&c)&&(c=b.getAgedSymbol(c,a));return c},getObservationRenderer:function(a){return 0===
a.getLayer()._getKind(a)?this.observationRenderer:this.latestObservationRenderer||this.observationRenderer}})})},"esri/symbols/PictureFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./FillSymbol".split(" "),function(a,n,k,m,f,h,g,d){var c={xoffset:0,yoffset:0,width:12,height:12};a=a(d,{declaredClass:"esri.symbol.PictureFillSymbol",type:"picturefillsymbol",xscale:1,yscale:1,xoffset:0,yoffset:0,constructor:function(b,a,e,d){b?
n.isString(b)?(this.url=b,void 0!==a&&(this.outline=a),void 0!==e&&(this.width=e),void 0!==d&&(this.height=d)):(this.xoffset=m.pt2px(b.xoffset),this.yoffset=m.pt2px(b.yoffset),this.width=m.pt2px(b.width),this.height=m.pt2px(b.height),a=b.imageData,!(9>k("ie"))&&a&&(e=this.url,this.url="data:"+(b.contentType||"image")+";base64,"+a,this.imageData=e)):(n.mixin(this,c),this.width=m.pt2px(this.width),this.height=m.pt2px(this.height))},setWidth:function(b){this.width=b;return this},setHeight:function(b){this.height=
b;return this},setOffset:function(b,c){this.xoffset=b;this.yoffset=c;return this},setUrl:function(b){b!==this.url&&(delete this.imageData,delete this.contentType);this.url=b;return this},setXScale:function(b){this.xscale=b;return this},setYScale:function(b){this.yscale=b;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){return n.mixin({},m.defaultPattern,{src:this.url,width:this.width*this.xscale,height:this.height*this.yscale,x:this.xoffset,y:this.yoffset})},
getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 E"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){var b=this.url,c=this.imageData;if(0===b.indexOf("data:"))var e=b,b=c,c=e.indexOf(";base64,")+8,c=e.substr(c);if(n.isString(b)&&(0===b.indexOf("/")||0===b.indexOf("//")||0===b.indexOf("./")||0===b.indexOf("../")))b=g.getAbsoluteUrl(b);var e=m.px2pt(this.width),e=isNaN(e)?void 0:e,a=m.px2pt(this.height),a=isNaN(a)?void 0:
a,d=m.px2pt(this.xoffset),d=isNaN(d)?void 0:d,f=m.px2pt(this.yoffset),f=isNaN(f)?void 0:f,b=h.fixJson(n.mixin(this.inherited("toJson",arguments),{type:"esriPFS",url:b,imageData:c,contentType:this.contentType,width:e,height:a,xoffset:d,yoffset:f,xscale:this.xscale,yscale:this.yscale}));b.imageData||delete b.imageData;return b}});a.defaultProps=c;return a})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(a,n,k,m,
f,h,g,d){function c(b,e,c,g,l){g=d.hitch(c,g);if(!b||!b.addEventListener&&!b.attachEvent)return m.after(b||a.global,e,g,!0);"string"==typeof e&&"on"==e.substring(0,2)&&(e=e.substring(2));b||(b=a.global);if(!l)switch(e){case "keypress":e=u;break;case "mouseenter":e=h.enter;break;case "mouseleave":e=h.leave}return n(b,e,g,l)}function b(b){b.keyChar=b.charCode?String.fromCharCode(b.charCode):"";b.charOrCode=b.keyChar||b.keyCode}g.add("events-keypress-typed",function(){var b={charCode:0};try{b=document.createEvent("KeyboardEvent"),
(b.initKeyboardEvent||b.initKeyEvent).call(b,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(e){}return 0==b.charCode&&!g("opera")});var q={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},e=g("mac")?"metaKey":"ctrlKey",l=function(e,c){var a=d.mixin({},e,c);b(a);a.preventDefault=function(){e.preventDefault()};a.stopPropagation=function(){e.stopPropagation()};return a},u;u=g("events-keypress-typed")?function(b,e){var c=n(b,"keydown",function(b){var c=
b.keyCode,a=13!=c&&32!=c&&(27!=c||!g("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(a||b.ctrlKey){a=a?0:c;if(b.ctrlKey){if(3==c||13==c)return e.call(b.currentTarget,b);a=95<a&&106>a?a-48:!b.shiftKey&&65<=a&&90>=a?a+32:q[a]||a}c=l(b,{type:"keypress",faux:!0,charCode:a});e.call(b.currentTarget,c);if(g("ie"))try{b.keyCode=c.keyCode}catch(d){}}}),a=n(b,"keypress",function(b){var c=b.charCode;b=l(b,{charCode:32<=c?c:0,faux:!0});return e.call(this,b)});return{remove:function(){c.remove();
a.remove()}}}:g("opera")?function(b,e){return n(b,"keypress",function(b){var c=b.which;3==c&&(c=99);c=32>c&&!b.shiftKey?0:c;b.ctrlKey&&(!b.shiftKey&&65<=c&&90>=c)&&(c+=32);return e.call(this,l(b,{charCode:c}))})}:function(e,c){return n(e,"keypress",function(e){b(e);return c.call(this,e)})};var r={_keypress:u,connect:function(b,e,a,d,g){var l=arguments,f=[],h=0;f.push("string"==typeof l[0]?null:l[h++],l[h++]);var q=l[h+1];f.push("string"==typeof q||"function"==typeof q?l[h++]:null,l[h++]);for(q=l.length;h<
q;h++)f.push(l[h]);return c.apply(this,f)},disconnect:function(b){b&&b.remove()},subscribe:function(b,e,c){return k.subscribe(b,d.hitch(e,c))},publish:function(b,e){return k.publish.apply(k,[b].concat(e))},connectPublisher:function(b,e,c){var a=function(){r.publish(b,arguments)};return c?r.connect(e,c,a):r.connect(e,a)},isCopyKey:function(b){return b[e]}};r.unsubscribe=r.disconnect;d.mixin(a,r);return r})},"dojo/_base/config":function(){define(["../has","require"],function(a,n){var k={},m=n.rawConfig,
f;for(f in m)k[f]=m[f];!k.locale&&"undefined"!=typeof navigator&&(k.locale=(navigator.language||navigator.userLanguage).toLowerCase());return k})},"esri/renderers/Renderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../Color".split(" "),function(a,n,k,m,f,h){return a(null,{declaredClass:"esri.renderer.Renderer",constructor:function(a){if(a&&!a.declaredClass){this.rotationInfo=a.rotationInfo;if(!this.rotationInfo){var d=a.rotationType,c=a.rotationExpression;
if(d||c)this.rotationInfo={type:d,expression:c}}this.setRotationInfo(this.rotationInfo);this.setProportionalSymbolInfo(a.proportionalSymbolInfo);this.setColorInfo(a.colorInfo)}this.getSymbol=n.hitch(this,this.getSymbol)},getSymbol:function(a){},setRotationInfo:function(a){if((a=this.rotationInfo="string"===typeof a?{field:a}:a)&&a.expression&&!a.field){var d=a.expression.match(this.rotationRE);d&&d[1]&&(a.field=d[1])}return this},rotationRE:/^\[([^\]]+)\]$/i,getRotationAngle:function(a){var d=this.rotationInfo,
c="arithmetic"===d.type,d=d.field,b=a.attributes,f=0;d&&(n.isFunction(d)?f=d.apply(this,arguments):b&&(f=b[d]||0),f=(f+(c?-90:0))*(c?-1:1));return f},setProportionalSymbolInfo:function(a){this.proportionalSymbolInfo=a;return this},getSize:function(a,d){var c=a.attributes,b=this.proportionalSymbolInfo,f=b&&b.field,e=0,l="number"===typeof a?a:null;if(f){var h=b.minSize,m=b.maxSize,p=b.minDataValue,k=b.maxDataValue,s=b.valueUnit||"unknown",x=b.valueRepresentation,b=b.normalizationField,w=c?parseFloat(c[b]):
void 0,b=d&&d.shape;"number"!==typeof l&&(n.isFunction(f)?l=f.apply(this,arguments):c&&(l=c[f]||0));isNaN(w)||(l/=w);if(null!=h&&null!=m&&null!=p&&null!=k)e=l<=p?h:l>=k?m:h+(l-p)/(k-p)*(m-h);else if("unknown"===s)null!=h&&null!=p&&(h&&p?(l/=p,e="circle"===b?2*Math.sqrt(l*Math.pow(h/2,2)):"square"===b||"diamond"===b||"image"===b?Math.sqrt(l*Math.pow(h,2)):l*h):e=l+(h||p),e=e<h?h:e,null!=m&&e>m&&(e=m));else{c=(d&&d.resolution?d.resolution:a.getLayer().getMap().getResolutionInMeters())*this._meterIn[s];
if("area"===x)e=Math.sqrt(l/Math.PI)/c,e*=2;else if(e=l/c,"radius"===x||"distance"===x)e*=2;null!=h&&e<h&&(e=h);null!=m&&e>m&&(e=m)}}return e=isNaN(e)?0:e},setColorInfo:function(a){this.colorInfo=a;this._interpolateData();return this},getColor:function(a){var d=a.attributes,c=this.colorInfo,b=c&&c.field,f="number"===typeof a?a:null,e;b&&(c=c.normalizationField,c=d?parseFloat(d[c]):void 0,"number"!==typeof f&&(n.isFunction(b)?f=b.apply(this,arguments):d&&(f=d[b]||0)),isNaN(c)||(f/=c),this._interpolatedValues&&
(e=this._getColor(f)));return e},_interpolateData:function(){var a=this.colorInfo,d;if(a)if(a.colors){var c=a.colors.length,b=a.minDataValue,f=(a.maxDataValue-b)/(c-1);d=[];for(a=0;a<c;a++)d[a]=b+a*f}else a.stops&&(d=k.map(a.stops,function(b){return b.value}));this._interpolatedValues=d},_getColor:function(a){a=this._getColorRange(a);var d=this.colorInfo,c;if(a){c=a[0];var b=a[1];c=c===b?this._getColorObj(d,c):h.blendColors(this._getColorObj(d,c),this._getColorObj(d,b),a[2])}return c},_getColorObj:function(a,
d){return a.colors?a.colors[d]:a.stops[d].color},_getColorRange:function(a){var d=this._interpolatedValues,c;if(d){var b=0,f=d.length-1;k.some(d,function(e,c){if(a<e)return f=c,!0;b=c;return!1});c=[b,f,(a-d[b])/(d[f]-d[b])]}return c},_meterIn:{inches:39.3701,feet:3.28084,yards:1.09361,miles:6.21371E-4,"nautical-miles":5.39957E-4,millimeters:1E3,centimeters:100,decimeters:10,meters:1,kilometers:0.0010,"decimal-degrees":180/20015077},toJson:function(){var a=this.proportionalSymbolInfo,d,c=this.colorInfo,
b=this.rotationInfo;d=b&&b.field;var f=b&&(b.expression||d&&(n.isFunction(d)?d:"["+d+"]"));c&&(c=n.mixin({},c),c.colors&&(c.colors=k.map(c.colors,function(b){return n.isArray(b)?n.clone(b):h.toJsonColor(b)})),c.stops&&(c.stops=k.map(c.stops,function(b){return{value:b.value,color:n.isArray(b.color)?n.clone(b.color):h.toJsonColor(b.color)}})));if(a&&(a=n.mixin({},a),d=a.legendOptions))if(a.legendOptions=n.mixin({},d),d=d.customValues)a.legendOptions.customValues=d.slice(0);return{rotationType:f&&(b.type||
"geographic"),rotationExpression:f,colorInfo:c,proportionalSymbolInfo:a}}})})},"dojo/selector/_loader":function(){define(["../has","require"],function(a,n){var k=document.createElement("div");a.add("dom-qsa2.1",!!k.querySelectorAll);a.add("dom-qsa3",function(){try{return k.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==k.querySelectorAll(".TEST:empty").length}catch(a){}});var m;return{load:function(f,h,g,d){d=n;f="default"==f?a("config-selectorEngine")||"css3":f;f="css2"==f||"lite"==f?"./lite":
"css2.1"==f?a("dom-qsa2.1")?"./lite":"./acme":"css3"==f?a("dom-qsa3")?"./lite":"./acme":"acme"==f?"./acme":(d=h)&&f;if("?"==f.charAt(f.length-1)){f=f.substring(0,f.length-1);var c=!0}if(c&&(a("dom-compliant-qsa")||m))return g(m);d([f],function(b){"./lite"!=f&&(m=b);g(b)})}}})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(a,n,k){function m(b,c){throw Error("declare"+(c?" "+c:"")+": "+b);}function f(b,c,e){var a,d,l,g,f,p,h,q=this._inherited=this._inherited||{};"string"==
typeof b&&(a=b,b=c,c=e);e=0;g=b.callee;(a=a||g.nom)||m("can't deduce a name to call inherited()",this.declaredClass);f=this.constructor._meta;l=f.bases;h=q.p;if(a!=z){if(q.c!==g&&(h=0,p=l[0],f=p._meta,f.hidden[a]!==g)){(d=f.chains)&&"string"==typeof d[a]&&m("calling chained method with inherited: "+a,this.declaredClass);do if(f=p._meta,d=p.prototype,f&&(d[a]===g&&d.hasOwnProperty(a)||f.hidden[a]===g))break;while(p=l[++h]);h=p?h:-1}if(p=l[++h])if(d=p.prototype,p._meta&&d.hasOwnProperty(a))e=d[a];else{g=
w[a];do if(d=p.prototype,(e=d[a])&&(p._meta?d.hasOwnProperty(a):e!==g))break;while(p=l[++h])}e=p&&e||w[a]}else{if(q.c!==g&&(h=0,(f=l[0]._meta)&&f.ctor!==g)){d=f.chains;for((!d||"manual"!==d.constructor)&&m("calling chained constructor with inherited",this.declaredClass);(p=l[++h])&&!((f=p._meta)&&f.ctor===g););h=p?h:-1}for(;(p=l[++h])&&!(e=(f=p._meta)?f.ctor:p););e=p&&e}q.c=e;q.p=h;if(e)return!0===c?e:e.apply(this,c||b)}function h(b,c){return"string"==typeof b?this.__inherited(b,c,!0):this.__inherited(b,
!0)}function g(b,c,e){var a=this.getInherited(b,c);if(a)return a.apply(this,e||c||b)}function d(b){for(var c=this.constructor._meta.bases,e=0,a=c.length;e<a;++e)if(c[e]===b)return!0;return this instanceof b}function c(b,c){for(var e in c)e!=z&&c.hasOwnProperty(e)&&(b[e]=c[e]);if(n("bug-for-in-skips-shadowed"))for(var a=k._extraNames,d=a.length;d;)e=a[--d],e!=z&&c.hasOwnProperty(e)&&(b[e]=c[e])}function b(b){s.safeMixin(this.prototype,b);return this}function q(b,e){return s([this].concat(b),e||{})}
function e(b,e){return function(){var c=arguments,a=c,d=c[0],l,g;g=b.length;var f;if(!(this instanceof c.callee))return t(c);if(e&&(d&&d.preamble||this.preamble)){f=Array(b.length);f[0]=c;for(l=0;;){if(d=c[0])(d=d.preamble)&&(c=d.apply(this,c)||c);d=b[l].prototype;(d=d.hasOwnProperty("preamble")&&d.preamble)&&(c=d.apply(this,c)||c);if(++l==g)break;f[l]=c}}for(l=g-1;0<=l;--l)d=b[l],(d=(g=d._meta)?g.ctor:d)&&d.apply(this,f?f[l]:c);(d=this.postscript)&&d.apply(this,a)}}function l(b,c){return function(){var e=
arguments,a=e,d=e[0];if(!(this instanceof e.callee))return t(e);c&&(d&&(d=d.preamble)&&(a=d.apply(this,a)||a),(d=this.preamble)&&d.apply(this,a));b&&b.apply(this,e);(d=this.postscript)&&d.apply(this,e)}}function u(b){return function(){var c=arguments,e=0,a,d;if(!(this instanceof c.callee))return t(c);for(;a=b[e];++e)if(a=(d=a._meta)?d.ctor:a){a.apply(this,c);break}(a=this.postscript)&&a.apply(this,c)}}function r(b,c,e){return function(){var a,d,l=0,g=1;e&&(l=c.length-1,g=-1);for(;a=c[l];l+=g)d=a._meta,
(a=(d?d.hidden:a.prototype)[b])&&a.apply(this,arguments)}}function p(b){v.prototype=b.prototype;b=new v;v.prototype=null;return b}function t(b){var c=b.callee,e=p(c);c.apply(e,b);return e}function s(a,g,n){"string"!=typeof a&&(n=g,g=a,a="");n=n||{};var t,v,A,E,K,D,G,L=1,U=g;if("[object Array]"==y.call(g)){L=a;A=[];E=[{cls:0,refs:[]}];D={};for(var P=1,R=g.length,J=0,F,Q,C,H;J<R;++J){(F=g[J])?"[object Function]"!=y.call(F)&&m("mixin #"+J+" is not a callable constructor.",L):m("mixin #"+J+" is unknown. Did you use dojo.require to pull it in?",
L);Q=F._meta?F._meta.bases:[F];C=0;for(F=Q.length-1;0<=F;--F)H=Q[F].prototype,H.hasOwnProperty("declaredClass")||(H.declaredClass="uniqName_"+B++),H=H.declaredClass,D.hasOwnProperty(H)||(D[H]={count:0,refs:[],cls:Q[F]},++P),H=D[H],C&&C!==H&&(H.refs.push(C),++C.count),C=H;++C.count;E[0].refs.push(C)}for(;E.length;){C=E.pop();A.push(C.cls);for(--P;v=C.refs,1==v.length;){C=v[0];if(!C||--C.count){C=0;break}A.push(C.cls);--P}if(C){J=0;for(R=v.length;J<R;++J)C=v[J],--C.count||E.push(C)}}P&&m("can't build consistent linearization",
L);F=g[0];A[0]=F?F._meta&&F===A[A.length-F._meta.bases.length]?F._meta.bases.length:1:0;D=A;A=D[0];L=D.length-A;g=D[L]}else D=[0],g?"[object Function]"==y.call(g)?(A=g._meta,D=D.concat(A?A.bases:g)):m("base class is not a callable constructor.",a):null!==g&&m("unknown base class. Did you use dojo.require to pull it in?",a);if(g)for(v=L-1;;--v){t=p(g);if(!v)break;A=D[v];(A._meta?c:x)(t,A.prototype);E=new Function;E.superclass=g;E.prototype=t;g=t.constructor=E}else t={};s.safeMixin(t,n);A=n.constructor;
A!==w.constructor&&(A.nom=z,t.constructor=A);for(v=L-1;v;--v)(A=D[v]._meta)&&A.chains&&(G=x(G||{},A.chains));t["-chains-"]&&(G=x(G||{},t["-chains-"]));A=!G||!G.hasOwnProperty(z);D[0]=E=G&&"manual"===G.constructor?u(D):1==D.length?l(n.constructor,A):e(D,A);E._meta={bases:D,hidden:n,chains:G,parents:U,ctor:n.constructor};E.superclass=g&&g.prototype;E.extend=b;E.createSubclass=q;E.prototype=t;t.constructor=E;t.getInherited=h;t.isInstanceOf=d;t.inherited=I;t.__inherited=f;a&&(t.declaredClass=a,k.setObject(a,
E));if(G)for(K in G)t[K]&&("string"==typeof G[K]&&K!=z)&&(A=t[K]=r(K,D,"after"===G[K]),A.nom=K);return E}var x=k.mixin,w=Object.prototype,y=w.toString,v=new Function,B=0,z="constructor",I=a.config.isDebug?g:f;a.safeMixin=s.safeMixin=function(b,c){var e,a;for(e in c)if(a=c[e],(a!==w[e]||!(e in w))&&e!=z)"[object Function]"==y.call(a)&&(a.nom=e),b[e]=a;if(n("bug-for-in-skips-shadowed"))for(var d=k._extraNames,l=d.length;l;)if(e=d[--l],a=c[e],(a!==w[e]||!(e in w))&&e!=z)"[object Function]"==y.call(a)&&
(a.nom=e),b[e]=a;return b};return a.declare=s})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(a,n,k,m,f,h,g,d,c){function b(b,e,c,a){return a.replace(/([a-z])\1*/ig,function(d){var f,h,q=d.charAt(0);d=d.length;var k=["abbr","wide","narrow"];switch(q){case "G":f=e[4>d?"eraAbbr":"eraNames"][0>b.getFullYear()?0:1];break;case "y":f=b.getFullYear();switch(d){case 1:break;
case 2:if(!c.fullYear){f=String(f);f=f.substr(f.length-2);break}default:h=!0}break;case "Q":case "q":f=Math.ceil((b.getMonth()+1)/3);h=!0;break;case "M":case "L":f=b.getMonth();3>d?(f+=1,h=!0):(q=["months","L"==q?"standAlone":"format",k[d-3]].join("-"),f=e[q][f]);break;case "w":f=l._getWeekOfYear(b,0);h=!0;break;case "d":f=b.getDate();h=!0;break;case "D":f=l._getDayOfYear(b);h=!0;break;case "e":case "c":if(f=b.getDay(),2>d){f=(f-m.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":f=b.getDay();3>d?(f+=
1,h=!0):(q=["days","c"==q?"standAlone":"format",k[d-3]].join("-"),f=e[q][f]);break;case "a":q=12>b.getHours()?"am":"pm";f=c[q]||e["dayPeriods-format-wide-"+q];break;case "h":case "H":case "K":case "k":h=b.getHours();switch(q){case "h":f=h%12||12;break;case "H":f=h;break;case "K":f=h%12;break;case "k":f=h||24}h=!0;break;case "m":f=b.getMinutes();h=!0;break;case "s":f=b.getSeconds();h=!0;break;case "S":f=Math.round(b.getMilliseconds()*Math.pow(10,d-3));h=!0;break;case "v":case "z":if(f=l._getZone(b,
!0,c))break;d=4;case "Z":q=l._getZone(b,!1,c);q=[0>=q?"+":"-",g.pad(Math.floor(Math.abs(q)/60),2),g.pad(Math.abs(q)%60,2)];4==d&&(q.splice(0,0,"GMT"),q.splice(3,0,":"));f=q.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+a);}h&&(f=g.pad(f,d));return f})}function q(b,e,c,a){var d=function(b){return b};e=e||d;c=c||d;a=a||d;var l=b.match(/(''|[^'])+/g),f="'"==b.charAt(0);n.forEach(l,function(b,a){b?(l[a]=(f?c:e)(b.replace(/''/g,"'")),f=!f):l[a]=""});return a(l.join(""))}
function e(b,e,c,a){a=h.escapeString(a);c.strict||(a=a.replace(" a"," ?a"));return a.replace(/([a-z])\1*/ig,function(a){var d;d=a.charAt(0);var l=a.length,f="",g="";c.strict?(1<l&&(f="0{"+(l-1)+"}"),2<l&&(g="0{"+(l-2)+"}")):(f="0?",g="0{0,2}");switch(d){case "y":d="\\d{2,4}";break;case "M":case "L":d=2<l?"\\S+?":"1[0-2]|"+f+"[1-9]";break;case "D":d="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+f+"[1-9][0-9]|"+g+"[1-9]";break;case "d":d="3[01]|[12]\\d|"+f+"[1-9]";break;case "w":d="[1-4][0-9]|5[0-3]|"+f+"[1-9]";
break;case "E":case "e":case "c":d=".+?";break;case "h":d="1[0-2]|"+f+"[1-9]";break;case "k":d="1[01]|"+f+"\\d";break;case "H":d="1\\d|2[0-3]|"+f+"\\d";break;case "K":d="1\\d|2[0-4]|"+f+"[1-9]";break;case "m":case "s":d="[0-5]\\d";break;case "S":d="\\d{"+l+"}";break;case "a":l=c.am||e["dayPeriods-format-wide-am"];f=c.pm||e["dayPeriods-format-wide-pm"];d=l+"|"+f;c.strict||(l!=l.toLowerCase()&&(d+="|"+l.toLowerCase()),f!=f.toLowerCase()&&(d+="|"+f.toLowerCase()),-1!=d.indexOf(".")&&(d+="|"+d.replace(/\./g,
"")));d=d.replace(/\./g,"\\.");break;default:d=".*"}b&&b.push(a);return"("+d+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var l={};a.setObject(c.id.replace(/\//g,"."),l);l._getZone=function(b,c,e){return c?k.getTimezoneName(b):b.getTimezoneOffset()};l.format=function(c,e){e=e||{};var d=f.normalizeLocale(e.locale),g=e.formatLength||"short",d=l._getGregorianBundle(d),h=[],m=a.hitch(this,b,c,d,e);if("year"==e.selector)return q(d["dateFormatItem-yyyy"]||"yyyy",m);var k;"date"!=e.selector&&(k=e.timePattern||
d["timeFormat-"+g])&&h.push(q(k,m));"time"!=e.selector&&(k=e.datePattern||d["dateFormat-"+g])&&h.push(q(k,m));return 1==h.length?h[0]:d["dateTimeFormat-"+g].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(b,e){return h[e]})};l.regexp=function(b){return l._parseInfo(b).regexp};l._parseInfo=function(b){b=b||{};var c=f.normalizeLocale(b.locale),c=l._getGregorianBundle(c),d=b.formatLength||"short",g=b.datePattern||c["dateFormat-"+d],h=b.timePattern||c["timeFormat-"+d],d="date"==b.selector?g:"time"==b.selector?
h:c["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(b,e){return[h,g][e]}),m=[];return{regexp:q(d,a.hitch(this,e,m,c,b)),tokens:m,bundle:c}};l.parse=function(b,e){var c=/[\u200E\u200F\u202A\u202E]/g,a=l._parseInfo(e),d=a.tokens,f=a.bundle,c=RegExp("^"+a.regexp.replace(c,"")+"$",a.strict?"":"i").exec(b&&b.replace(c,""));if(!c)return null;var g=["abbr","wide","narrow"],h=[1970,0,1,0,0,0,0],q="",c=n.every(c,function(b,c){if(!c)return!0;var a=d[c-1],l=a.length,a=a.charAt(0);switch(a){case "y":if(2!=
l&&e.strict)h[0]=b;else if(100>b)b=Number(b),a=""+(new Date).getFullYear(),l=100*a.substring(0,2),a=Math.min(Number(a.substring(2,4))+20,99),h[0]=b<a?l+b:l-100+b;else{if(e.strict)return!1;h[0]=b}break;case "M":case "L":if(2<l){if(l=f["months-"+("L"==a?"standAlone":"format")+"-"+g[l-3]].concat(),e.strict||(b=b.replace(".","").toLowerCase(),l=n.map(l,function(b){return b.replace(".","").toLowerCase()})),b=n.indexOf(l,b),-1==b)return!1}else b--;h[1]=b;break;case "E":case "e":case "c":l=f["days-"+("c"==
a?"standAlone":"format")+"-"+g[l-3]].concat();e.strict||(b=b.toLowerCase(),l=n.map(l,function(b){return b.toLowerCase()}));b=n.indexOf(l,b);if(-1==b)return!1;break;case "D":h[1]=0;case "d":h[2]=b;break;case "a":l=e.am||f["dayPeriods-format-wide-am"];a=e.pm||f["dayPeriods-format-wide-pm"];if(!e.strict){var m=/\./g;b=b.replace(m,"").toLowerCase();l=l.replace(m,"").toLowerCase();a=a.replace(m,"").toLowerCase()}if(e.strict&&b!=l&&b!=a)return!1;q=b==a?"p":b==l?"a":"";break;case "K":24==b&&(b=0);case "h":case "H":case "k":if(23<
b)return!1;h[3]=b;break;case "m":h[4]=b;break;case "s":h[5]=b;break;case "S":h[6]=b}return!0}),a=+h[3];"p"===q&&12>a?h[3]=a+12:"a"===q&&12==a&&(h[3]=0);a=new Date(h[0],h[1],h[2],h[3],h[4],h[5],h[6]);e.strict&&a.setFullYear(h[0]);var m=d.join(""),u=-1!=m.indexOf("d"),m=-1!=m.indexOf("M");if(!c||m&&a.getMonth()>h[1]||u&&a.getDate()>h[2])return null;if(m&&a.getMonth()<h[1]||u&&a.getDate()<h[2])a=k.add(a,"hour",1);return a};var u=[];l.addCustomFormats=function(b,a){u.push({pkg:b,name:a})};l._getGregorianBundle=
function(b){var e={};n.forEach(u,function(c){c=f.getLocalization(c.pkg,c.name,b);e=a.mixin(e,c)},this);return e};l.addCustomFormats(c.id.replace(/\/date\/locale$/,".cldr"),"gregorian");l.getNames=function(b,a,e,c){var d;c=l._getGregorianBundle(c);b=[b,e,a];"standAlone"==e&&(e=b.join("-"),d=c[e],1==d[0]&&(d=void 0));b[1]="format";return(d||c[b.join("-")]).concat()};l.isWeekend=function(b,e){var c=m.getWeekend(e),a=(b||new Date).getDay();c.end<c.start&&(c.end+=7,a<c.start&&(a+=7));return a>=c.start&&
a<=c.end};l._getDayOfYear=function(b){return k.difference(new Date(b.getFullYear(),0,1,b.getHours()),b)+1};l._getWeekOfYear=function(b,c){1==arguments.length&&(c=0);var a=(new Date(b.getFullYear(),0,1)).getDay(),e=Math.floor((l._getDayOfYear(b)+(a-c+7)%7-1)/7);a==c&&e++;return e};return l})},"esri/symbols/MarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ./Symbol".split(" "),function(a,n,k,m,f,h){return a(h,{declaredClass:"esri.symbol.MarkerSymbol",
angle:0,xoffset:0,yoffset:0,size:12,constructor:function(a){a&&n.isObject(a)&&(this.size="auto"===this.size?this.size:m.pt2px(this.size),this.xoffset=m.pt2px(this.xoffset),this.yoffset=m.pt2px(this.yoffset),this.angle&&(this.angle*=-1))},setAngle:function(a){this.angle=a;return this},setSize:function(a){this.size=a;return this},setOffset:function(a,d){this.xoffset=a;this.yoffset=d;return this},toJson:function(){var a=m.px2pt(this.size),a=isNaN(a)?void 0:a,d=m.px2pt(this.xoffset),d=isNaN(d)?void 0:
d,c=m.px2pt(this.yoffset),c=isNaN(c)?void 0:c;return n.mixin(this.inherited("toJson",arguments),{size:"auto"===this.size?this.size:a,angle:this.angle&&-1*this.angle,xoffset:d,yoffset:c})}})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(a,n){return a("RequestTimeoutError",null,n,{dojoType:"timeout"})})},"dojo/json":function(){define(["./has"],function(a){var n="undefined"!=typeof JSON;a.add("json-parse",n);a.add("json-stringify",n&&'{"a":1}'==JSON.stringify({a:0},
function(a,f){return f||1}));if(a("json-stringify"))return JSON;var k=function(a){return('"'+a.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:a("json-parse")?JSON.parse:function(a,f){if(f&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(a))throw new SyntaxError("Invalid characters in JSON");return eval("("+a+")")},stringify:function(a,
f,h){function g(a,b,q){f&&(a=f(q,a));var e;e=typeof a;if("number"==e)return isFinite(a)?a+"":"null";if("boolean"==e)return a+"";if(null===a)return"null";if("string"==typeof a)return k(a);if("function"==e||"undefined"==e)return d;if("function"==typeof a.toJSON)return g(a.toJSON(q),b,q);if(a instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(b,e,d){b=a["getUTC"+e]()+(d?1:0);return 10>b?"0"+b:b});if(a.valueOf()!==a)return g(a.valueOf(),
b,q);var l=h?b+h:"",m=h?" ":"",n=h?"\n":"";if(a instanceof Array){var m=a.length,p=[];for(q=0;q<m;q++)e=g(a[q],l,q),"string"!=typeof e&&(e="null"),p.push(n+l+e);return"["+p.join(",")+n+b+"]"}p=[];for(q in a){var t;if(a.hasOwnProperty(q)){if("number"==typeof q)t='"'+q+'"';else if("string"==typeof q)t=k(q);else continue;e=g(a[q],l,q);"string"==typeof e&&p.push(n+l+t+":"+m+e)}}return"{"+p.join(",")+n+b+"}"}var d;"string"==typeof f&&(h=f,f=null);return g(a,"","")}}})},"dojo/_base/json":function(){define(["./kernel",
"../json"],function(a,n){a.fromJson=function(a){return eval("("+a+")")};a._escapeString=n.stringify;a.toJsonIndentStr="\t";a.toJson=function(k,m){return n.stringify(k,function(a,h){if(h){var g=h.__json__||h.json;if("function"==typeof g)return g.call(h)}return h},m&&a.toJsonIndentStr)};return a})},"esri/symbols/FillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ./Symbol ./SimpleLineSymbol".split(" "),function(a,n,k,m,f,h){return a(f,{declaredClass:"esri.symbol.FillSymbol",
constructor:function(a){a&&(n.isObject(a)&&a.outline)&&(this.outline=new h(a.outline))},setOutline:function(a){this.outline=a;return this},toJson:function(){var a=this.inherited("toJson",arguments);this.outline&&(a.outline=this.outline.toJson());return a}})})},"esri/symbols/SimpleLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./LineSymbol".split(" "),function(a,n,k,m,f,h,g,d){var c={STYLE_SOLID:"solid",STYLE_DASH:"dash",
STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot"},b={color:[0,0,0,1],style:c.STYLE_SOLID,width:1};a=a(d,{declaredClass:"esri.symbol.SimpleLineSymbol",type:"simplelinesymbol",_styles:{solid:"esriSLSSolid",dash:"esriSLSDash",dot:"esriSLSDot",dashdot:"esriSLSDashDot",longdashdotdot:"esriSLSDashDotDot",
none:"esriSLSNull",insideframe:"esriSLSInsideFrame",shortdash:"esriSLSShortDash",shortdot:"esriSLSShortDot",shortdashdot:"esriSLSShortDashDot",shortdashdotdot:"esriSLSShortDashDotDot",longdash:"esriSLSLongDash",longdashdot:"esriSLSLongDashDot"},constructor:function(a,e,d){a?n.isString(a)?(this.style=a,e&&(this.color=e),d&&(this.width=d)):this.style=g.valueOf(this._styles,a.style)||c.STYLE_SOLID:(n.mixin(this,b),this.color=new k(this.color),this.width=f.pt2px(this.width))},setStyle:function(b){this.style=
b;return this},getStroke:function(){return this.style===c.STYLE_NULL||0===this.width?null:{color:this.color,style:this.style,width:this.width}},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},toJson:function(){return g.fixJson(n.mixin(this.inherited("toJson",arguments),{type:"esriSLS",style:this._styles[this.style]}))}});n.mixin(a,c);a.defaultProps=b;return a})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),
function(a,n,k,m,f,h,g,d,c){k.add("dojo-preload-i18n-Api",1);g=a.i18n={};var b=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,q=function(b,a,e,c){var d=[e+c];a=a.split("-");for(var l="",f=0;f<a.length;f++)if(l+=(l?"-":"")+a[f],!b||b[l])d.push(e+l+"/"+c),d.specificity=l;return d},e={},l=function(b,e,c){c=c?c.toLowerCase():a.locale;b=b.replace(/\./g,"/");e=e.replace(/\./g,"/");return/root/i.test(c)?b+"/nls/"+e:b+"/nls/"+c+"/"+e},u=a.getL10nName=function(b,a,e){return c.id+"!"+l(b,a,e)},r=function(b,a,c,
d,l,f){b([a],function(g){var p=h.clone(g.root),m=q(!g._v1x&&g,l,c,d);b(m,function(){for(var b=1;b<m.length;b++)p=h.mixin(h.clone(p),arguments[b]);e[a+"/"+l]=p;p.$locale=m.specificity;f()})})},p=function(b){var a=f.extraLocale||[],a=h.isArray(a)?a:[a];a.push(b);return a},t=function(c,l,f){if(k("dojo-preload-i18n-Api")){var g=c.split("*"),q="preload"==g[1];q&&(e[c]||(e[c]=1,v(g[2],d.parse(g[3]),1,l)),f(1));if(!(g=q))w&&y.push([c,l,f]),g=w;if(g)return}c=b.exec(c);var n=c[1]+"/",u=c[5]||c[4],s=n+u,g=
(c=c[5]&&c[4])||a.locale||"",t=s+"/"+g;c=c?[g]:p(g);var z=c.length,x=function(){--z||f(h.delegate(e[t]))};m.forEach(c,function(b){var a=s+"/"+b;k("dojo-preload-i18n-Api")&&B(a);e[a]?x():r(l,s,n,u,b,x)})};if(k("dojo-unit-tests"))var s=g.unitTests=[];k("dojo-preload-i18n-Api");var x=g.normalizeLocale=function(b){b=b?b.toLowerCase():a.locale;return"root"==b?"ROOT":b},w=0,y=[],v=g._preloadLocalizations=function(b,c,d,l){function f(b,a){l([b],a)}function g(b,a){for(var e=b.split("-");e.length;){if(a(e.join("-")))return;
e.pop()}a("ROOT")}function h(a){a=x(a);g(a,function(a){if(0<=m.indexOf(c,a)){var d=b.replace(/\./g,"/")+"_"+a;w++;f(d,function(b){for(var c in b)e[n.toAbsMid(c)+"/"+a]=b[c];for(--w;!w&&y.length;)t.apply(null,y.shift())});return!0}return!1})}l=l||n;h();m.forEach(a.config.extraLocale,h)},B=function(){},z={},I=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
B=function(b){for(var c,d=b.split("/"),l=a.global[d[0]],f=1;l&&f<d.length-1;l=l[d[f++]]);l&&((c=l[d[f]])||(c=l[d[f].replace(/-/g,"_")]),c&&(e[b]=c));return c};g.getLocalization=function(b,a,c){var e;b=l(b,a,c);t(b,n,function(b){e=b});return e};k("dojo-unit-tests")&&s.push(function(b){b.register("tests.i18n.unit",function(b){var a;a=I("{prop:1}",B,"nonsense",z);b.is({prop:1},a);b.is(void 0,a[1]);a=I("({prop:1})",B,"nonsense",z);b.is({prop:1},a);b.is(void 0,a[1]);a=I("{'prop-x':1}",B,"nonsense",z);
b.is({"prop-x":1},a);b.is(void 0,a[1]);a=I("({'prop-x':1})",B,"nonsense",z);b.is({"prop-x":1},a);b.is(void 0,a[1]);a=I("define({'prop-x':1})",B,"nonsense",z);b.is(z,a);b.is({"prop-x":1},z.result);a=I("define('some/module', {'prop-x':1})",B,"nonsense",z);b.is(z,a);b.is({"prop-x":1},z.result);a=I("this is total nonsense and should throw an error",B,"nonsense",z);b.is(a instanceof Error,!0)})});return h.mixin(g,{dynamic:!0,normalize:function(b,a){return/^\./.test(b)?a(b):b},load:t,cache:e,getL10nName:u})})},
"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(a,n,k,m,f,h){function g(b,a){var c=a.parentNode;c&&c.insertBefore(b,a)}function d(b){if(b.canHaveChildren)try{b.innerHTML="";return}catch(a){}for(var e;e=b.lastChild;)c(e,b)}function c(b,a){b.firstChild&&d(b);a&&(k("ie")&&a.canHaveChildren&&"removeNode"in b?b.removeNode(!1):a.removeChild(b))}var b={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table",
"tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},q=/<\s*([\w\:]+)/,e={},l=0,u="__"+n._scopeName+"ToDomId",r;for(r in b)b.hasOwnProperty(r)&&(n=b[r],n.pre="option"==r?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+n.join("\x3e\x3c")+"\x3e",n.post="\x3c/"+n.reverse().join("\x3e\x3c/")+"\x3e");var p;8>=k("ie")&&(p=function(b){b.__dojo_html5_tested="yes";var a=t("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",
style:{visibility:"hidden"}},b.body);1!==a.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(a){b.createElement(a)});s(a)});a.toDom=function(a,c){c=c||m.doc;var d=c[u];d||(c[u]=d=++l+"",e[d]=c.createElement("div"));8>=k("ie")&&!c.__dojo_html5_tested&&c.body&&p(c);a+="";var f=a.match(q),g=f?f[1].toLowerCase():"",d=e[d];if(f&&b[g]){f=b[g];d.innerHTML=f.pre+a+f.post;
for(f=f.length;f;--f)d=d.firstChild}else d.innerHTML=a;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(g=c.createDocumentFragment();f=d.firstChild;)g.appendChild(f);return g};a.place=function(b,c,e){c=f.byId(c);"string"==typeof b&&(b=/^\s*</.test(b)?a.toDom(b,c.ownerDocument):f.byId(b));if("number"==typeof e){var d=c.childNodes;!d.length||d.length<=e?c.appendChild(b):g(b,d[0>e?0:e])}else switch(e){case "before":g(b,c);break;case "after":e=b;(d=c.parentNode)&&(d.lastChild==c?d.appendChild(e):
d.insertBefore(e,c.nextSibling));break;case "replace":c.parentNode.replaceChild(b,c);break;case "only":a.empty(c);c.appendChild(b);break;case "first":if(c.firstChild){g(b,c.firstChild);break}default:c.appendChild(b)}return b};var t=a.create=function(b,c,e,d){var l=m.doc;e&&(e=f.byId(e),l=e.ownerDocument);"string"==typeof b&&(b=l.createElement(b));c&&h.set(b,c);e&&a.place(b,e,d);return b};a.empty=function(b){d(f.byId(b))};var s=a.destroy=function(b){(b=f.byId(b))&&c(b,b.parentNode)}})},"dojo/sniff":function(){define(["./has"],
function(a){var n=navigator,k=n.userAgent,m=n.appVersion,n=parseFloat(m);a.add("air",0<=k.indexOf("AdobeAIR"));a.add("msapp",parseFloat(k.split("MSAppHost/")[1])||void 0);a.add("khtml",0<=m.indexOf("Konqueror")?n:void 0);a.add("webkit",parseFloat(k.split("WebKit/")[1])||void 0);a.add("chrome",parseFloat(k.split("Chrome/")[1])||void 0);a.add("safari",0<=m.indexOf("Safari")&&!a("chrome")?parseFloat(m.split("Version/")[1]):void 0);a.add("mac",0<=m.indexOf("Macintosh"));a.add("quirks","BackCompat"==document.compatMode);
if(k.match(/(iPhone|iPod|iPad)/)){var f=RegExp.$1.replace(/P/,"p"),h=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",h=parseFloat(h.replace(/_/,".").replace(/_/g,""));a.add(f,h);a.add("ios",h)}a.add("android",parseFloat(k.split("Android ")[1])||void 0);a.add("bb",(0<=k.indexOf("BlackBerry")||0<=k.indexOf("BB10"))&&parseFloat(k.split("Version/")[1])||void 0);a.add("svg","undefined"!==typeof SVGAngle);a("webkit")||(0<=k.indexOf("Opera")&&a.add("opera",9.8<=n?parseFloat(k.split("Version/")[1])||n:n),f=0,document.all&&
!a("opera")?f=parseFloat(m.split("MSIE ")[1])||void 0:m.indexOf("Trident")&&(f=parseFloat(m.split("rv:")[1])||void 0),f&&((m=document.documentMode)&&(5!=m&&Math.floor(f)!=m)&&(f=m),a.add("ie",f)),!a("ie")&&(0<=k.indexOf("Gecko")&&!a("khtml")&&!a("webkit"))&&a.add("mozilla",n),a("mozilla")&&a.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0),a.add("wii","undefined"!=typeof opera&&opera.wiiremote));return a})},"esri/renderers/TimeClassBreaksAger":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has dojo/date ../kernel ../lang ../symbols/jsonUtils ./SymbolAger".split(" "),
function(a,n,k,m,f,h,g,d,c){a=a(c,{declaredClass:"esri.renderer.TimeClassBreaksAger",constructor:function(b,a){this.infos=b;this.timeUnits=a||"day";b.sort(function(b,a){return b.minAge<a.minAge?-1:b.minAge>a.minAge?1:0})},getAgedSymbol:function(b,a){var c=a.getLayer(),l=a.attributes,h=g.isDefined;b=d.fromJson(b.toJson());var m=c._map.timeExtent.endTime;if(!m)return b;var p=f.difference(new Date(l[c._startTimeField]),m,this.timeUnits);n.some(this.infos,function(a){if(p>=a.minAge&&p<=a.maxAge){var c=
a.color,e=a.size;a=a.alpha;c&&b.setColor(c);h(e)&&this._setSymbolSize(b,e);h(a)&&b.color&&(b.color.a=a);return!0}},this);return b}});k.mixin(a,{UNIT_DAYS:"day",UNIT_HOURS:"hour",UNIT_MILLISECONDS:"millisecond",UNIT_MINUTES:"minute",UNIT_MONTHS:"month",UNIT_SECONDS:"second",UNIT_WEEKS:"week",UNIT_YEARS:"year"});return a})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(a,n,k,m){if(n._fixEvent){var f=n._fixEvent;n._fixEvent=function(a,d){(a=f(a,d))&&m.normalizeEvent(a);
return a}}var h={fix:function(a,d){return n._fixEvent?n._fixEvent(a,d):a},stop:function(a){k("dom-addeventlistener")||a&&a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a=a||window.event,a.cancelBubble=!0,n._preventDefault.call(a))}};a.fixEvent=h.fix;a.stopEvent=h.stop;return h})},"esri/symbols/PictureMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./MarkerSymbol".split(" "),function(a,n,k,m,f,h,g,d){var c={url:"",
width:12,height:12,angle:0,xoffset:0,yoffset:0};a=a(d,{declaredClass:"esri.symbol.PictureMarkerSymbol",type:"picturemarkersymbol",constructor:function(b,a,e){b?n.isString(b)?(this.url=b,a&&(this.width=a),e&&(this.height=e)):(this.width=m.pt2px(b.width),this.height=m.pt2px(b.height),a=b.imageData,!(9>k("ie"))&&a&&(e=this.url,this.url="data:"+(b.contentType||"image")+";base64,"+a,this.imageData=e)):(n.mixin(this,c),this.width=m.pt2px(this.width),this.height=m.pt2px(this.height))},getStroke:function(){return null},
getFill:function(){return null},setWidth:function(b){this.width=b;return this},setHeight:function(b){this.height=b;return this},setUrl:function(b){b!==this.url&&(delete this.imageData,delete this.contentType);this.url=b;return this},getShapeDescriptors:function(){return{defaultShape:{type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,stroke:null}},toJson:function(){var b=this.url,a=this.imageData;if(0===b.indexOf("data:"))var c=
b,b=a,a=c.indexOf(";base64,")+8,a=c.substr(a);if(n.isString(b)&&(0===b.indexOf("/")||0===b.indexOf("//")||0===b.indexOf("./")||0===b.indexOf("../")))b=g.getAbsoluteUrl(b);var c=m.px2pt(this.width),c=isNaN(c)?void 0:c,d=m.px2pt(this.height),d=isNaN(d)?void 0:d,b=h.fixJson(n.mixin(this.inherited("toJson",arguments),{type:"esriPMS",url:b,imageData:a,contentType:this.contentType,width:c,height:d}));delete b.color;delete b.size;b.imageData||delete b.imageData;return b}});a.defaultProps=c;return a})},"esri/symbols/Symbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../Color".split(" "),
function(a,n,k,m,f,h){return a(null,{declaredClass:"esri.symbol.Symbol",color:new h([0,0,0,1]),type:null,constructor:function(a){if(a&&n.isObject(a)&&(n.mixin(this,a),this.color&&f.isDefined(this.color[0])&&(this.color=h.toDojoColor(this.color)),(a=this.type)&&0===a.indexOf("esri")))this.type={esriSMS:"simplemarkersymbol",esriPMS:"picturemarkersymbol",esriSLS:"simplelinesymbol",esriCLS:"cartographiclinesymbol",esriSFS:"simplefillsymbol",esriPFS:"picturefillsymbol",esriTS:"textsymbol",esriSHD:"shieldlabelsymbol"}[a]},
setColor:function(a){this.color=a;return this},toJson:function(){return{color:h.toJsonColor(this.color)}}})})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(a,n,k,m,f){var h=Object.freeze||function(){},g=function(b,a,c,f,g){2===a&&(q.instrumentRejected&&0===b.length)&&q.instrumentRejected(c,!1,f,g);for(g=0;g<b.length;g++)d(b[g],a,c,f)},d=function(a,d,f,g){var h=a[d],m=a.deferred;if(h)try{var k=h(f);if(0===
d)"undefined"!==typeof k&&b(m,d,k);else{if(k&&"function"===typeof k.then){a.cancel=k.cancel;k.then(c(m,1),c(m,2),c(m,0));return}b(m,1,k)}}catch(n){b(m,2,n)}else b(m,d,f);2===d&&q.instrumentRejected&&q.instrumentRejected(f,!!h,g,m.promise)},c=function(a,c){return function(d){b(a,c,d)}},b=function(b,a,c){if(!b.isCanceled())switch(a){case 0:b.progress(c);break;case 1:b.resolve(c);break;case 2:b.reject(c)}},q=function(b){var a=this.promise=new m,c=this,f,p,n,s=!1,x=[];Error.captureStackTrace&&(Error.captureStackTrace(c,
q),Error.captureStackTrace(a,q));this.isResolved=a.isResolved=function(){return 1===f};this.isRejected=a.isRejected=function(){return 2===f};this.isFulfilled=a.isFulfilled=function(){return!!f};this.isCanceled=a.isCanceled=function(){return s};this.progress=function(b,e){if(f){if(!0===e)throw Error("This deferred has already been fulfilled.");return a}g(x,0,b,null,c);return a};this.resolve=function(b,e){if(f){if(!0===e)throw Error("This deferred has already been fulfilled.");return a}g(x,f=1,p=b,
null,c);x=null;return a};var w=this.reject=function(b,e){if(f){if(!0===e)throw Error("This deferred has already been fulfilled.");return a}Error.captureStackTrace&&Error.captureStackTrace(n={},w);g(x,f=2,p=b,n,c);x=null;return a};this.then=a.then=function(b,c,e){var g=[e,b,c];g.cancel=a.cancel;g.deferred=new q(function(b){return g.cancel&&g.cancel(b)});f&&!x?d(g,f,p,n):x.push(g);return g.deferred.promise};this.cancel=a.cancel=function(a,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");
}else{if(b){var d=b(a);a="undefined"===typeof d?a:d}s=!0;if(f){if(2===f&&p===a)return a}else return"undefined"===typeof a&&(a=new k),w(a),a}};h(a)};q.prototype.toString=function(){return"[object Deferred]"};f&&f(q);return q})},"esri/lang":function(){define("dojo/_base/array dojo/_base/json dojo/_base/kernel dojo/_base/lang dojo/date dojo/has dojo/number dojo/date/locale ./kernel".split(" "),function(a,n,k,m,f,h,g,d,c){function b(b){return void 0!==b&&null!==b}function q(c,e,h){var q=h.match(/([^\(]+)(\([^\)]+\))?/i),
k=m.trim(q[1]);h=e[c];var q=n.fromJson((q[2]?m.trim(q[2]):"()").replace(/^\(/,"({").replace(/\)$/,"})")),x=q.utcOffset;if(-1===a.indexOf(l,k))k=m.getObject(k),m.isFunction(k)&&(h=k(h,c,e));else if("number"===typeof h||"string"===typeof h&&h&&!isNaN(Number(h)))switch(h=Number(h),k){case "NumberFormat":return g.format(h,q);case "DateString":c=new Date(h);if(q.local||q.systemLocale)return q.systemLocale?c.toLocaleDateString()+(q.hideTime?"":" "+c.toLocaleTimeString()):c.toDateString()+(q.hideTime?"":
" "+c.toTimeString());c=c.toUTCString();q.hideTime&&(c=c.replace(/\s+\d\d\:\d\d\:\d\d\s+(utc|gmt)/i,""));return c;case "DateFormat":return c=new Date(h),b(x)&&(c=f.add(c,"minute",c.getTimezoneOffset()-x)),d.format(c,q)}return b(h)?h:""}function e(b,a){var c;if(a)for(c in b)b.hasOwnProperty(c)&&(void 0===b[c]||null===b[c]?delete b[c]:b[c]instanceof Object&&e(b[c],!0));else for(c in b)b.hasOwnProperty(c)&&void 0===b[c]&&delete b[c];return b}var l=["NumberFormat","DateString","DateFormat"];return{valueOf:function(b,
a){for(var c in b)if(b[c]==a)return c;return null},substitute:function(c,e,d){var f,l,g;b(d)&&(m.isObject(d)?(f=d.first,l=d.dateFormat,g=d.numberFormat):f=d);if(!e||"${*}"===e){e=[];for(var h in c){d=c[h];if(l&&-1!==a.indexOf(l.properties||"",h))d=q(h,c,l.formatter||"DateString");else if(g&&-1!==a.indexOf(g.properties||"",h))d=q(h,c,g.formatter||"NumberFormat");e.push(h+" \x3d "+(b(d)?d:"")+"\x3cbr/\x3e");if(f)break}return e.join("")}return m.replace(e,m.hitch({obj:c},function(c,e){var d=e.split(":");
return 1<d.length?(e=d[0],d.shift(),q(e,this.obj,d.join(":"))):l&&-1!==a.indexOf(l.properties||"",e)?q(e,this.obj,l.formatter||"DateString"):g&&-1!==a.indexOf(g.properties||"",e)?q(e,this.obj,g.formatter||"NumberFormat"):b(this.obj[e])?this.obj[e]:""}),/\$\{([^\}]+)\}/g)},filter:function(b,a,c){a=[m.isString(b)?b.split(""):b,c||k.global,m.isString(a)?new Function("item","index","array",a):a];c={};var e;b=a[0];for(e in b)a[2].call(a[e],b[e],e,b)&&(c[e]=b[e]);return c},isDefined:b,fixJson:e}})},"dojo/_base/url":function(){define(["./kernel"],
function(a){var n=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,k=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,m=function(){for(var a=arguments,h=[a[0]],g=1;g<a.length;g++)if(a[g]){var d=new m(a[g]+""),h=new m(h[0]+"");if(""==d.path&&!d.scheme&&!d.authority&&!d.query)null!=d.fragment&&(h.fragment=d.fragment),d=h;else if(!d.scheme&&(d.scheme=h.scheme,!d.authority&&(d.authority=h.authority,"/"!=d.path.charAt(0)))){for(var h=(h.path.substring(0,h.path.lastIndexOf("/")+
1)+d.path).split("/"),c=0;c<h.length;c++)"."==h[c]?c==h.length-1?h[c]="":(h.splice(c,1),c--):0<c&&(!(1==c&&""==h[0])&&".."==h[c]&&".."!=h[c-1])&&(c==h.length-1?(h.splice(c,1),h[c-1]=""):(h.splice(c-1,2),c-=2));d.path=h.join("/")}h=[];d.scheme&&h.push(d.scheme,":");d.authority&&h.push("//",d.authority);h.push(d.path);d.query&&h.push("?",d.query);d.fragment&&h.push("#",d.fragment)}this.uri=h.join("");a=this.uri.match(n);this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=
a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&(a=this.authority.match(k),this.user=a[3]||null,this.password=a[4]||null,this.host=a[6]||a[7],this.port=a[9]||null)};m.prototype.toString=function(){return this.uri};return a._Url=m})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(a,n){var k={};n.setObject("dojo.string",k);k.rep=function(a,f){if(0>=f||!a)return"";for(var h=[];;){f&1&&h.push(a);if(!(f>>=1))break;a+=a}return h.join("")};
k.pad=function(a,f,h,g){h||(h="0");a=String(a);f=k.rep(h,Math.ceil((f-a.length)/h.length));return g?a+f:f+a};k.substitute=function(m,f,h,g){g=g||a.global;h=h?n.hitch(g,h):function(a){return a};return m.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(a,c,b){a=n.getObject(c,!1,f);b&&(a=n.getObject(b,!1,g).call(g,a,c));return h(a,c).toString()})};k.trim=String.prototype.trim?n.trim:function(a){a=a.replace(/^\s+/,"");for(var f=a.length-1;0<=f;f--)if(/\S/.test(a.charAt(f))){a=a.substring(0,f+
1);break}return a};return k})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(a,n,k,m,f,h,g,d){var c={},b=0,q=n._scopeName+"attrid";a.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};a.get=function(b,c){b=f.byId(b);var d=c.toLowerCase();return b[a.names[d]||c]};a.set=function(e,
l,n){e=f.byId(e);if(2==arguments.length&&"string"!=typeof l){for(var r in l)a.set(e,r,l[r]);return e}r=l.toLowerCase();r=a.names[r]||l;if("style"==r&&"string"!=typeof n)return h.set(e,n),e;if("innerHTML"==r)return k("ie")&&e.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(g.empty(e),e.appendChild(g.toDom(n,e.ownerDocument))):e[r]=n,e;if(m.isFunction(n)){var p=e[q];p||(p=b++,e[q]=p);c[p]||(c[p]={});var t=c[p][r];if(t)d.disconnect(t);else try{delete e[r]}catch(s){}n?
c[p][r]=d.connect(e,r,n):e[r]=null;return e}e[r]=n;return e}})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(a,n){return a.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:n("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,
NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:n("mac")&&!n("air")?n("safari")?91:224:17}})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(a,n){n.add("bug-for-in-skips-shadowed",
function(){for(var b in{toString:1})return 0;return 1});var k=n("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],m=k.length,f=function(b,c,e){var d,f=0,g=a.global;if(!e)if(b.length){d=b[f++];try{e=a.scopeMap[d]&&a.scopeMap[d][1]}catch(h){}e=e||(d in g?g[d]:c?g[d]={}:void 0)}else return g;for(;e&&(d=b[f++]);)e=d in e?e[d]:c?e[d]={}:void 0;return e},h=Object.prototype.toString,g=function(b,a,c){return(c||[]).concat(Array.prototype.slice.call(b,
a||0))},d=/\{([^\}]+)\}/g,c={_extraNames:k,_mixin:function(b,a,c){var d,f,g,h={};for(d in a)if(f=a[d],!(d in b)||b[d]!==f&&(!(d in h)||h[d]!==f))b[d]=c?c(f):f;if(n("bug-for-in-skips-shadowed")&&a)for(g=0;g<m;++g)if(d=k[g],f=a[d],!(d in b)||b[d]!==f&&(!(d in h)||h[d]!==f))b[d]=c?c(f):f;return b},mixin:function(b,a){b||(b={});for(var e=1,d=arguments.length;e<d;e++)c._mixin(b,arguments[e]);return b},setObject:function(b,a,c){var d=b.split(".");b=d.pop();return(c=f(d,!0,c))&&b?c[b]=a:void 0},getObject:function(b,
a,c){return f(b.split("."),a,c)},exists:function(b,a){return void 0!==c.getObject(b,!1,a)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:function(b){return b&&(b instanceof Array||"array"==typeof b)},isFunction:function(b){return"[object Function]"===h.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||c.isArray(b)||c.isFunction(b))},isArrayLike:function(b){return b&&void 0!==b&&!c.isString(b)&&!c.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&
(c.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!c.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(String(b))},extend:function(b,a){for(var e=1,d=arguments.length;e<d;e++)c._mixin(b.prototype,arguments[e]);return b},_hitchArgs:function(b,d){var e=c._toArray(arguments,2),f=c.isString(d);return function(){var g=c._toArray(arguments),h=f?(b||a.global)[d]:d;return h&&h.apply(b||this,e.concat(g))}},hitch:function(b,d){if(2<arguments.length)return c._hitchArgs.apply(a,arguments);d||(d=
b,b=null);if(c.isString(d)){b=b||a.global;if(!b[d])throw['lang.hitch: scope["',d,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[d].apply(b,arguments||[])}}return!b?d:function(){return d.apply(b,arguments||[])}},delegate:function(){function b(){}return function(a,e){b.prototype=a;var d=new b;b.prototype=null;e&&c._mixin(d,e);return d}}(),_toArray:n("ie")?function(){function b(b,a,c){c=c||[];for(a=a||0;a<b.length;a++)c.push(b[a]);return c}return function(a){return(a.item?b:g).apply(this,
arguments)}}():g,partial:function(b){return c.hitch.apply(a,[null].concat(c._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||c.isFunction(b))return b;if(b.nodeType&&"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return RegExp(b);var a,e,d;if(c.isArray(b)){a=[];e=0;for(d=b.length;e<d;++e)e in b&&a.push(c.clone(b[e]))}else a=b.constructor?new b.constructor:{};return c._mixin(a,b,c.clone)},trim:String.prototype.trim?
function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(b,a,e){return b.replace(e||d,c.isFunction(a)?a:function(b,e){return c.getObject(e,!1,a)})}};c.mixin(a,c);return c})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(a,n,k,m){var f=a.Color=function(a){a&&this.setColor(a)};f.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],
fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:m.transparentColor||[0,0,0,0]};n.extend(f,{r:255,g:255,b:255,a:1,_set:function(a,f,d,c){this.r=a;this.g=f;this.b=d;this.a=c},setColor:function(a){n.isString(a)?f.fromString(a,this):n.isArray(a)?f.fromArray(a,this):(this._set(a.r,a.g,a.b,a.a),a instanceof f||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,
this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var f=this.r+", "+this.g+", "+this.b;return(a?"rgba("+f+", "+this.a:"rgb("+f)+")"},toString:function(){return this.toCss(!0)}});f.blendColors=a.blendColors=function(a,g,d,c){var b=c||new f;k.forEach(["r","g","b","a"],function(c){b[c]=a[c]+(g[c]-a[c])*d;"a"!=c&&(b[c]=Math.round(b[c]))});
return b.sanitize()};f.fromRgb=a.colorFromRgb=function(a,g){var d=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return d&&f.fromArray(d[1].split(/\s*,\s*/),g)};f.fromHex=a.colorFromHex=function(a,g){var d=g||new f,c=4==a.length?4:8,b=(1<<c)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;k.forEach(["b","g","r"],function(f){var e=a&b;a>>=c;d[f]=4==c?17*e:e});d.a=1;return d};f.fromArray=a.colorFromArray=function(a,g){var d=g||new f;d._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));
isNaN(d.a)&&(d.a=1);return d.sanitize()};f.fromString=a.colorFromString=function(a,g){var d=f.named[a];return d&&f.fromArray(d,g)||f.fromRgb(a,g)||f.fromHex(a,g)};return f})},"esri/symbols/Font":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang".split(" "),function(a,n,k,m,f,h){a=a(null,{declaredClass:"esri.symbol.Font",constructor:function(a,d,c,b,f){a?n.isObject(a)?n.mixin(this,a):(this.size=a,parseFloat(this.size)==this.size&&(this.size+="px"),void 0!==
d&&(this.style=d),void 0!==c&&(this.variant=c),void 0!==b&&(this.weight=b),void 0!==f&&(this.family=f)):n.mixin(this,m.defaultFont);parseFloat(this.size)==this.size&&(this.size+="pt");9>k("ie")&&(this.size&&n.isString(this.size)&&-1<this.size.indexOf("em"))&&(this.size=m.pt2px(12*parseFloat(this.size))+"px");this.size=this._convert2PxSize(this.size)},setSize:function(a){this.size=this._convert2PxSize(a);return this},_convert2PxSize:function(a){var d;parseFloat(a)==a?d=a:n.isString(a)&&(-1<a.indexOf("pt")?
d=m.pt2px(parseFloat(a)):-1<a.indexOf("px")?d=parseFloat(a):-1<a.indexOf("em")?d=m.pt2px(12*parseFloat(a)):-1<a.indexOf("%")&&(d=m.pt2px(0.12*parseFloat(a))));return d},setStyle:function(a){this.style=a;return this},setVariant:function(a){this.variant=a;return this},setWeight:function(a){this.weight=a;return this},setFamily:function(a){this.family=a;return this},setDecoration:function(a){this.decoration=a;return this},toJson:function(){return h.fixJson({size:m.px2pt(this.size),style:this.style,variant:this.variant,
decoration:this.decoration,weight:this.weight,family:this.family})}});n.mixin(a,{STYLE_NORMAL:"normal",STYLE_ITALIC:"italic",STYLE_OBLIQUE:"oblique",VARIANT_NORMAL:"normal",VARIANT_SMALLCAPS:"small-caps",WEIGHT_NORMAL:"normal",WEIGHT_BOLD:"bold",WEIGHT_BOLDER:"bolder",WEIGHT_LIGHTER:"lighter"});return a})},"esri/renderers/TimeRampAger":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has ../kernel ../symbols/jsonUtils ./SymbolAger".split(" "),function(a,n,k,m,f,h,g){return a(g,
{declaredClass:"esri.renderer.TimeRampAger",constructor:function(a,c,b){this.colorRange=a;this.sizeRange=c;this.alphaRange=b},getAgedSymbol:function(a,c){var b=c.getLayer(),f=c.attributes;a=h.fromJson(a.toJson());var e=b._map.timeExtent,l=e.startTime,e=e.endTime;if(!l||!e)return a;l=l.getTime();e=e.getTime();b=new Date(f[b._startTimeField]);b=b.getTime();b<l&&(b=l);l=e===l?1:(b-l)/(e-l);if(b=this.sizeRange)f=b[0],e=b[1],b=Math.abs(e-f)*l,this._setSymbolSize(a,f<e?f+b:f-b);if(b=this.colorRange){var e=
b[0],g=b[1],m=Math.round,f=new k,p=e.r,n=g.r,b=Math.abs(n-p)*l;f.r=m(p<n?p+b:p-b);p=e.g;n=g.g;b=Math.abs(n-p)*l;f.g=m(p<n?p+b:p-b);p=e.b;n=g.b;b=Math.abs(n-p)*l;f.b=m(p<n?p+b:p-b);e=e.a;g=g.a;b=Math.abs(g-e)*l;f.a=e<g?e+b:e-b;a.setColor(f)}f=a.color;if((b=this.alphaRange)&&f)e=b[0],g=b[1],b=Math.abs(g-e)*l,f.a=e<g?e+b:e-b;return a}})})},"esri/renderers/SimpleRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer".split(" "),function(a,
n,k,m,f,h,g){return a(g,{declaredClass:"esri.renderer.SimpleRenderer",constructor:function(a){if(a&&!a.declaredClass){var c=a;this.symbol=(a=c.symbol)&&(a.declaredClass?a:h.fromJson(a));this.label=c.label;this.description=c.description}else this.symbol=a},getSymbol:function(a){return this.symbol},toJson:function(){var a=n.mixin(this.inherited(arguments),{type:"simple",label:this.label,description:this.description,symbol:this.symbol&&this.symbol.toJson()});return f.fixJson(a)}})})},"esri/urlUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/url dojo/io-query ./kernel ./config ./sniff dojo/i18n!./nls/jsapi".split(" "),
function(a,n,k,m,f,h,g,d){var c={},b=h.defaults.io,q=window.location.protocol;"file:"===q&&(q="http:");c.urlToObject=function(b){var a=b.indexOf("?");return-1===a?{path:b,query:null}:{path:b.substring(0,a),query:m.queryToObject(b.substring(a+1))}};c.getProxyUrl=function(e,f){var g=a.isString(e)?0===a.trim(e).toLowerCase().indexOf("https:"):e,h=b.proxyUrl,m,k,n=d.io.proxyNotSet;if(a.isString(e)&&(k=c.getProxyRule(e)))h=k.proxyUrl;if(!h)throw console.log(n),Error(n);g&&(!1!==f&&0!==window.location.href.toLowerCase().indexOf("https:"))&&
(g=h,0!==g.toLowerCase().indexOf("http")&&(g=c.getAbsoluteUrl(g)),g=g.replace(/^http:/i,"https:"),c.canUseXhr(g)&&(h=g,m=1));h=c.urlToObject(h);h._xo=m;return h};c.addProxy=function(e){var d=c.getProxyRule(e),f;d?f=c.urlToObject(d.proxyUrl):b.alwaysUseProxy&&(f=c.getProxyUrl());f&&(d=c.urlToObject(e),e=f.path+"?"+d.path,(f=m.objectToQuery(a.mixin(f.query||{},d.query)))&&(e+="?"+f));return e};c.addProxyRule=function(a){var d=a.urlPrefix=c.urlToObject(a.urlPrefix).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,
"").toLowerCase(),f=b.proxyRules,g,h=f.length,m,k=h;for(g=0;g<h;g++)if(m=f[g].urlPrefix,0===d.indexOf(m)){if(d.length===m)return-1;k=g;break}else 0===m.indexOf(d)&&(k=g+1);f.splice(k,0,a);return k};c.getProxyRule=function(a){var d=b.proxyRules,f=d.length,g=c.urlToObject(a).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase(),h;for(a=0;a<f;a++)if(0===g.indexOf(d[a].urlPrefix)){h=d[a];break}return h};c.hasSameOrigin=function(b,c,d){b=b.toLowerCase();c=c.toLowerCase();var f=window.location.href.toLowerCase();
b=0===b.indexOf("http")?new k(b):f=new k(f);c=0===c.indexOf("http")?new k(c):a.isString(f)?new k(f):f;return(d||b.scheme===c.scheme)&&b.host===c.host&&b.port===c.port};c.canUseXhr=function(e,d){var f=g("esri-phonegap")?!0:!1,h=c.hasSameOrigin,m=b.corsEnabledServers,k,q=-1;!f&&(g("esri-cors")&&m&&m.length)&&(f=n.some(m,function(b,c){k=0!==a.trim(b).toLowerCase().indexOf("http");return h(e,k?"http://"+b:b)||k&&h(e,"https://"+b)?(q=c,!0):!1}));return d?q:f};c.getAbsoluteUrl=function(b){return a.isString(b)&&
-1===b.indexOf("http://")&&-1===b.indexOf("https://")?0===b.indexOf("//")?q+b:0===b.indexOf("/")?q+"//"+window.location.host+b:f._appBaseUrl+b:b};c.fixUrl=function(b){/^\/\//i.test(b)&&(b=q+b);return b=b.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")};return c})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(a,n,k,m,f){function h(a,d){var c=function(b,c){return n(b,a,function(a){if(d)return d(a,c);if(!m.isDescendant(a.relatedTarget,b))return c.call(this,
a)})};c.bubble=function(b){return h(a,function(a,c){var d=b(a.target),f=a.relatedTarget;if(d&&d!=(f&&1==f.nodeType&&b(f)))return c.call(d,a)})};return c}k.add("dom-quirks",f.doc&&"BackCompat"==f.doc.compatMode);k.add("events-mouseenter",f.doc&&"onmouseenter"in f.doc.createElement("div"));k.add("events-mousewheel",f.doc&&"onmousewheel"in f.doc);f=k("dom-quirks")&&k("ie")||!k("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(a,d){return a.button&d},isLeft:function(a){return a.button&
1},isMiddle:function(a){return a.button&4},isRight:function(a){return a.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(a,d){return a.button==d},isLeft:function(a){return 0==a.button},isMiddle:function(a){return 1==a.button},isRight:function(a){return 2==a.button}};a.mouseButtons=f;a=k("events-mousewheel")?"mousewheel":function(a,d){return n(a,"DOMMouseScroll",function(a){a.wheelDelta=-a.detail;d.call(this,a)})};return{_eventHandler:h,enter:h("mouseover"),leave:h("mouseout"),wheel:a,isLeft:f.isLeft,
isMiddle:f.isMiddle,isRight:f.isRight}})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(a,n,k,m){function f(b,a,c){var d="";b&&b.stack&&(d+=b.stack);a&&a.stack&&(d+="\n    ----------------------------------------\n    rejected"+a.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(d+="\n    ----------------------------------------\n"+c.stack);console.error(b,d)}function h(b,a,c,d){a||f(b,c,d)}function g(a,f,g,h){f?
m.some(c,function(b,d){if(b.error===a)return c.splice(d,1),!0}):m.some(c,function(b){return b.error===a})||c.push({error:a,rejection:g,deferred:h,timestamp:(new Date).getTime()});b||(b=setTimeout(d,q))}function d(){var a=(new Date).getTime(),g=a-q;c=m.filter(c,function(b){return b.timestamp<g?(f(b.error,b.rejection,b.deferred),!1):!0});b=c.length?setTimeout(d,c[0].timestamp+q-a):!1}n.add("config-useDeferredInstrumentation","report-unhandled-rejections");var c=[],b=!1,q=1E3;return function(b){var c=
n("config-useDeferredInstrumentation");if(c){a.on("resolved",k.hitch(console,"log","resolved"));a.on("rejected",k.hitch(console,"log","rejected"));a.on("progress",k.hitch(console,"log","progress"));var d=[];"string"===typeof c&&(d=c.split(","),c=d.shift());if("report-rejections"===c)b.instrumentRejected=h;else if("report-unhandled-rejections"===c||!0===c||1===c)b.instrumentRejected=g,q=parseInt(d[0],10)||q;else throw Error("Unsupported instrumentation usage \x3c"+c+"\x3e");}}})},"esri/symbols/TextSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../lang ../Color ./Symbol ./Font".split(" "),
function(a,n,k,m,f,h,g,d,c){var b={type:"textsymbol",x:0,y:0,text:"",rotated:!1,kerning:!0,color:[0,0,0,1],font:m.defaultFont,angle:0,xoffset:0,yoffset:0,horizontalAlignment:"center"},q={start:"left",middle:"center",end:"right"},e={left:"start",center:"middle",right:"end",justify:"start"},l={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"};a=a(d,{declaredClass:"esri.symbol.TextSymbol",angle:0,xoffset:0,yoffset:0,constructor:function(a,d,e){n.mixin(this,b);this.font=
new c(this.font);this.color=new g(this.color);a&&(n.isObject(a)?(n.mixin(this,a),this.color&&h.isDefined(this.color[0])&&(this.color=g.toDojoColor(this.color)),this.type="textsymbol",this.font=new c(this.font),this.xoffset=m.pt2px(this.xoffset),this.yoffset=m.pt2px(this.yoffset),this.angle&&(this.angle*=-1)):(this.text=a,d&&(this.font=d),e&&(this.color=e)));this.setAlign(this.align||this.getSVGAlign())},setFont:function(b){this.font=b;return this},setAngle:function(b){this.angle=b;return this},setOffset:function(b,
a){this.xoffset=b;this.yoffset=a;return this},setAlign:function(b){this.align=b;this.setHorizontalAlignment(b&&q[b.toLowerCase()]||"center");return this},setHorizontalAlignment:function(b){this.horizontalAlignment=b;return this},getSVGAlign:function(){var b=this.horizontalAlignment;return b=b&&e[b.toLowerCase()]||"middle"},setVerticalAlignment:function(b){this.verticalAlignment=b;return this},getSVGBaseline:function(){var b=this.verticalAlignment;return b&&l[b.toLowerCase()]||"alphabetic"},getSVGBaselineShift:function(){return"bottom"===
this.verticalAlignment?"super":null},setDecoration:function(b){this.decoration=b;this.font||this.setFont(new c);this.font.setDecoration(b);return this},setRotated:function(b){this.rotated=b;return this},setKerning:function(b){this.kerning=b;return this},setText:function(b){this.text=b;return this},getStroke:function(){return null},getFill:function(){return this.color},getWidth:function(){var b=this.getHeight(),a=0,c,d;for(c=0;c<this.text.length;c++)d=this.text.charAt(c),a=d==d.toUpperCase()?a+0.7*
b:a+0.5*b;return a},getHeight:function(){return m.normalizedLength(this.font.size)},toJson:function(){var b=m.px2pt(this.xoffset),a=m.px2pt(this.yoffset),b=isNaN(b)?void 0:b,a=isNaN(a)?void 0:a;return h.fixJson(n.mixin(this.inherited("toJson",arguments),{type:"esriTS",backgroundColor:this.backgroundColor,borderLineColor:this.borderLineColor,borderLineSize:this.borderLineSize,haloSize:this.haloSize,haloColor:this.haloColor,verticalAlignment:this.verticalAlignment,horizontalAlignment:this.horizontalAlignment,
rightToLeft:this.rightToLeft,width:this.width,angle:this.angle&&-1*this.angle,xoffset:b,yoffset:a,text:this.text,rotated:this.rotated,kerning:this.kerning,font:this.font.toJson()}))}});n.mixin(a,{ALIGN_START:"start",ALIGN_MIDDLE:"middle",ALIGN_END:"end",DECORATION_NONE:"none",DECORATION_UNDERLINE:"underline",DECORATION_OVERLINE:"overline",DECORATION_LINETHROUGH:"line-through"});a.defaultProps=b;return a})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util",
"../has"],function(a,n,k,m,f){function h(b,d){var e=b.xhr;b.status=b.xhr.status;f("native-xhr2")&&c[b.options.handleAs]?(b.data=e.response,"blob"===b.options.handleAs&&!f("native-xhr2-blob")&&(b.data=new Blob([b.data],{type:e.getResponseHeader("Content-Type")}))):(b.text=e.responseText,"xml"===b.options.handleAs&&(b.data=e.responseXML));if(!d)try{k(b)}catch(g){d=g}d?this.reject(d):m.checkStatus(e.status)?this.resolve(b):(d=new a("Unable to load "+b.url+" status: "+e.status,b),this.reject(d))}function g(b){return this.xhr.getResponseHeader(b)}
function d(k,p,t){var y=m.parseArgs(k,m.deepCreate(r,p),f("native-formdata")&&p&&p.data&&p.data instanceof FormData);k=y.url;p=y.options;var v,B=m.deferred(y,l,b,q,h,function(){v&&v()}),z=y.xhr=d._create();if(!z)return B.cancel(new a("XHR was not created")),t?B:B.promise;y.getHeader=g;e&&(v=e(z,B,y));var I=p.data,S=!p.sync,T=p.method;try{z.open(T,k,S,p.user||u,p.password||u);p.withCredentials&&(z.withCredentials=p.withCredentials);if(f("native-xhr2")){var O=c[p.handleAs]?p.handleAs:p.responseType;
"blob"===O&&!f("native-xhr2-blob")&&(O="arraybuffer");O&&(z.responseType=O)}var M=p.headers;k="application/x-www-form-urlencoded";if(M)for(var N in M)"content-type"===N.toLowerCase()?k=M[N]:M[N]&&z.setRequestHeader(N,M[N]);k&&!1!==k&&z.setRequestHeader("Content-Type",k);(!M||!("X-Requested-With"in M))&&z.setRequestHeader("X-Requested-With","XMLHttpRequest");m.notify&&m.notify.emit("send",y,B.promise.cancel);z.send(I)}catch(A){B.reject(A)}n(B);z=null;return t?B:B.promise}f.add("native-xhr",function(){return"undefined"!==
typeof XMLHttpRequest});f.add("dojo-force-activex-xhr",function(){return f("activex")&&!document.addEventListener&&"file:"===window.location.protocol});f.add("native-xhr2",function(){if(f("native-xhr")){var b=new XMLHttpRequest;return"undefined"!==typeof b.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof b.upload)}});f.add("native-xhr2-blob",function(){if(f("native-xhr2")){var b=new XMLHttpRequest;b.open("GET","/",!0);b.responseType="blob";var a=b.responseType;b.abort();return"blob"===
a}});f.add("native-formdata",function(){return"undefined"!==typeof FormData});var c={arraybuffer:1,blob:1,document:1},b,q,e,l;f("native-xhr2")?(b=function(b){return!this.isFulfilled()},l=function(b,a){a.xhr.abort()},e=function(b,c,d){function e(b){c.handleResponse(d)}function f(b){b=new a("Unable to load "+d.url+" status: "+b.target.status,d);c.handleResponse(d,b)}function g(b){b.lengthComputable&&(d.loaded=b.loaded,d.total=b.total,c.progress(d))}b.addEventListener("load",e,!1);b.addEventListener("error",
f,!1);b.addEventListener("progress",g,!1);return function(){b.removeEventListener("load",e,!1);b.removeEventListener("error",f,!1);b.removeEventListener("progress",g,!1);b=null}}):(b=function(b){return b.xhr.readyState},q=function(b){return 4===b.xhr.readyState},l=function(b,a){var c=a.xhr,d=typeof c.abort;("function"===d||"object"===d||"unknown"===d)&&c.abort()});var u,r={data:null,query:null,sync:!1,method:"GET"};d._create=function(){throw Error("XMLHTTP not available");};if(f("native-xhr")&&!f("dojo-force-activex-xhr"))d._create=
function(){return new XMLHttpRequest};else if(f("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),d._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(p){try{new ActiveXObject("Microsoft.XMLHTTP"),d._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(t){}}m.addCommonMethods(d);return d})},"esri/renderers/jsonUtils":function(){define("dojo/_base/lang dojo/has ../kernel ./SimpleRenderer ./UniqueValueRenderer ./ClassBreaksRenderer".split(" "),function(a,n,k,m,f,
h){return{fromJson:function(a){var d;switch(a.type||""){case "simple":d=new m(a);break;case "uniqueValue":d=new f(a);break;case "classBreaks":d=new h(a)}return d}}})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(a,n){var k={};n.setObject("dojo.regexp",k);k.escapeString=function(a,f){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return f&&-1!=f.indexOf(a)?a:"\\"+a})};k.buildGroupRE=function(a,f,h){if(!(a instanceof Array))return f(a);for(var g=[],d=0;d<a.length;d++)g.push(f(a[d]));
return k.group(g.join("|"),h)};k.group=function(a,f){return"("+(f?"?:":"")+a+")"};return k})},"esri/Color":function(){define(["../dojo/_base/declare","dojo/_base/Color","dojo/has","./kernel"],function(a,n,k,m){a=a([n],{declaredClass:"esri.Color"});a.toJsonColor=function(a){return a&&[a.r,a.g,a.b,1<a.a?a.a:Math.round(255*a.a)]};a.toDojoColor=function(a){return a&&new n([a[0],a[1],a[2],a[3]/255])};m="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(k=0;k<m.length;k++)a[m[k]]=n[m[k]];
return a})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(a,n,k,m){var f;a={};var h={},g={config:n,global:this,dijit:a,dojox:h};a={dojo:["dojo",g],dijit:["dijit",a],dojox:["dojox",h]};m=k.map&&k.map[m.id.match(/[^\/]+/)[0]];for(f in m)a[f]?a[f][0]=m[f]:a[f]=[m[f],{}];for(f in a)m=a[f],m[1]._scopeName=m[0],n.noGlobals||(this[m[0]]=m[1]);g.scopeMap=a;g.baseUrl=g.config.baseUrl=k.baseUrl;g.isAsync=k.async;g.locale=n.locale;n="$Rev: 43d05c6 $".match(/\d+/);g.version=
{major:1,minor:9,patch:1,flag:"",revision:n?+n[0]:NaN,toString:function(){var a=g.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(g);g.exit=function(){};"undefined"!=typeof console||(console={});k="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var d;for(n=0;d=k[n++];)console[d]||function(){var a=
d+"";console[a]="log"in console?function(){var b=Array.apply({},arguments);b.unshift(a+":");console.log(b.join(" "))}:function(){};console[a]._fake=!0}();g.deprecated=g.experimental=function(){};g._hasResource={};return g})},"dojo/date":function(){define(["./has","./_base/lang"],function(a,n){var k={getDaysInMonth:function(a){var f=a.getMonth();return 1==f&&k.isLeapYear(a)?29:[31,28,31,30,31,30,31,31,30,31,30,31][f]},isLeapYear:function(a){a=a.getFullYear();return!(a%400)||!(a%4)&&!!(a%100)},getTimezoneName:function(a){var f=
a.toString(),h="",g=f.indexOf("(");if(-1<g)h=f.substring(++g,f.indexOf(")"));else if(g=/([A-Z\/]+) \d{4}$/,f=f.match(g))h=f[1];else if(f=a.toLocaleString(),g=/ ([A-Z\/]+)$/,f=f.match(g))h=f[1];return"AM"==h||"PM"==h?"":h},compare:function(a,f,h){a=new Date(+a);f=new Date(+(f||new Date));"date"==h?(a.setHours(0,0,0,0),f.setHours(0,0,0,0)):"time"==h&&(a.setFullYear(0,0,0),f.setFullYear(0,0,0));return a>f?1:a<f?-1:0},add:function(a,f,h){var g=new Date(+a),d=!1,c="Date";switch(f){case "day":break;case "weekday":var b;
(f=h%5)?b=parseInt(h/5):(f=0<h?5:-5,b=0<h?(h-5)/5:(h+5)/5);var k=a.getDay(),e=0;6==k&&0<h?e=1:0==k&&0>h&&(e=-1);k+=f;if(0==k||6==k)e=0<h?2:-2;h=7*b+f+e;break;case "year":c="FullYear";d=!0;break;case "week":h*=7;break;case "quarter":h*=3;case "month":d=!0;c="Month";break;default:c="UTC"+f.charAt(0).toUpperCase()+f.substring(1)+"s"}if(c)g["set"+c](g["get"+c]()+h);d&&g.getDate()<a.getDate()&&g.setDate(0);return g},difference:function(a,f,h){f=f||new Date;h=h||"day";var g=f.getFullYear()-a.getFullYear(),
d=1;switch(h){case "quarter":a=a.getMonth();f=f.getMonth();a=Math.floor(a/3)+1;f=Math.floor(f/3)+1;d=f+4*g-a;break;case "weekday":g=Math.round(k.difference(a,f,"day"));h=parseInt(k.difference(a,f,"week"));d=g%7;if(0==d)g=5*h;else{var c=0,b=a.getDay();f=f.getDay();h=parseInt(g/7);d=g%7;a=new Date(a);a.setDate(a.getDate()+7*h);a=a.getDay();if(0<g)switch(!0){case 6==b:c=-1;break;case 0==b:c=0;break;case 6==f:c=-1;break;case 0==f:c=-2;break;case 5<a+d:c=-2}else if(0>g)switch(!0){case 6==b:c=0;break;case 0==
b:c=1;break;case 6==f:c=2;break;case 0==f:c=1;break;case 0>a+d:c=2}g=g+c-2*h}d=g;break;case "year":d=g;break;case "month":d=f.getMonth()-a.getMonth()+12*g;break;case "week":d=parseInt(k.difference(a,f,"day")/7);break;case "day":d/=24;case "hour":d/=60;case "minute":d/=60;case "second":d/=1E3;case "millisecond":d*=f.getTime()-a.getTime()}return Math.round(d)}};n.mixin(n.getObject("dojo.date",!0),k);return k})},"dojo/errors/create":function(){define(["../_base/lang"],function(a){return function(n,k,
m,f){m=m||Error;var h=function(a){if(m===Error){Error.captureStackTrace&&Error.captureStackTrace(this,h);var d=Error.call(this,a),c;for(c in d)d.hasOwnProperty(c)&&(this[c]=d[c]);this.message=a;this.stack=d.stack}else m.apply(this,arguments);k&&k.apply(this,arguments)};h.prototype=a.delegate(m.prototype,f);h.prototype.name=n;return h.prototype.constructor=h}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(a,n,k){function m(a,b,f,g,h){if(g=
b.match(/(.*):(.*)/))return b=g[2],g=g[1],d.selector(g,b).call(h,a,f);k("touch")&&(c.test(b)&&(f=B(f)),!k("event-orientationchange")&&"orientationchange"==b&&(b="resize",a=window,f=B(f)));u&&(f=u(f));if(a.addEventListener){var l=b in e,m=l?e[b]:b;a.addEventListener(m,f,l);return{remove:function(){a.removeEventListener(m,f,l)}}}if(s&&a.attachEvent)return s(a,"on"+b,f);throw Error("Target must be an event emitter");}function f(){this.cancelable=!1;this.defaultPrevented=!0}function h(){this.bubbles=
!1}var g=window.ScriptEngineMajorVersion;k.add("jscript",g&&g()+ScriptEngineMinorVersion()/10);k.add("event-orientationchange",k("touch")&&!k("android"));k.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);k.add("event-focusin",function(b,a,c){return!!c.attachEvent});var d=function(b,a,c,e){return"function"==typeof b.on&&"function"!=typeof a&&!b.nodeType?b.on(a,c):d.parse(b,a,c,m,e,this)};d.pausable=function(b,a,c,e){var f;
b=d(b,a,function(){if(!f)return c.apply(this,arguments)},e);b.pause=function(){f=!0};b.resume=function(){f=!1};return b};d.once=function(b,a,c,e){var f=d(b,a,function(){f.remove();return c.apply(this,arguments)});return f};d.parse=function(b,a,c,d,e,f){if(a.call)return a.call(f,b,c);if(-1<a.indexOf(",")){a=a.split(/\s*,\s*/);for(var g=[],h=0,l;l=a[h++];)g.push(d(b,l,c,e,f));g.remove=function(){for(var b=0;b<g.length;b++)g[b].remove()};return g}return d(b,a,c,e,f)};var c=/^touch/;d.selector=function(b,
a,c){return function(e,f){function g(a){for(h=h&&h.matches?h:n.query;!h.matches(a,b,e);)if(a==e||!1===c||!(a=a.parentNode)||1!=a.nodeType)return;return a}var h="function"==typeof b?{matches:b}:this,l=a.bubble;return l?d(e,l(g),f):d(e,a,function(b){var a=g(b.target);return a&&f.call(a,b)})}};var b=[].slice,q=d.emit=function(a,c,d){var e=b.call(arguments,2),g="on"+c;if("parentNode"in a){var l=e[0]={},k;for(k in d)l[k]=d[k];l.preventDefault=f;l.stopPropagation=h;l.target=a;l.type=c;d=l}do a[g]&&a[g].apply(a,
e);while(d&&d.bubbles&&(a=a.parentNode));return d&&d.cancelable&&d},e=k("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!k("event-stopimmediatepropagation"))var l=function(){this.modified=this.immediatelyStopped=!0},u=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=l,a.apply(this,arguments)}};if(k("dom-addeventlistener"))d.emit=function(a,b,c){if(a.dispatchEvent&&document.createEvent){var e=a.ownerDocument.createEvent("HTMLEvents");e.initEvent(b,
!!c.bubbles,!!c.cancelable);for(var f in c)f in e||(e[f]=c[f]);return a.dispatchEvent(e)&&e}return q.apply(d,arguments)};else{d._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);if(!a)return a;try{r&&(a.type==r.type&&a.srcElement==r.target)&&(a=r)}catch(c){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=
x,a.preventDefault=w),a.type){case "keypress":var d="charCode"in a?a.charCode:a.keyCode;10==d?(d=0,a.keyCode=13):13==d||27==d?d=0:3==d&&(d=99);a.charCode=d;d=a;d.keyChar=d.charCode?String.fromCharCode(d.charCode):"";d.charOrCode=d.keyChar||d.keyCode}return a};var r,p=function(a){this.handle=a};p.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var t=function(a){return function(b){b=d._fixEvent(b,this);var c=a.call(this,b);b.modified&&(r||setTimeout(function(){r=null}),r=b);return c}},
s=function(b,c,d){d=t(d);if(((b.ownerDocument?b.ownerDocument.parentWindow:b.parentWindow||b.window||window)!=top||5.8>k("jscript"))&&!k("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var e=b[c];if(!e||!e.listeners){var f=e,e=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");e.listeners=[];b[c]=e;e.global=
this;f&&e.listeners.push(_dojoIEListeners_.push(f)-1)}e.listeners.push(b=e.global._dojoIEListeners_.push(d)-1);return new p(b)}return a.after(b,c,d,!0)},x=function(){this.cancelBubble=!0},w=d._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(k("touch"))var y=function(){},v=window.orientation,B=function(a){return function(b){var c=b.corrected;if(!c){var d=b.type;try{delete b.type}catch(e){}if(b.type){if(k("mozilla")){var c=
{},f;for(f in b)c[f]=b[f]}else y.prototype=b,c=new y;c.preventDefault=function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()}}else c=b,c.type=d;b.corrected=c;if("resize"==d){if(v==window.orientation)return null;v=window.orientation;c.type="orientationchange";return a.call(this,c)}"rotation"in c||(c.rotation=0,c.scale=1);var d=c.changedTouches[0],g;for(g in d)delete c[g],c[g]=d[g]}return a.call(this,c)}};return d})},"esri/symbols/SimpleFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./FillSymbol ./SimpleLineSymbol require".split(" "),
function(a,n,k,m,f,h,g,d,c,b){var q={STYLE_SOLID:"solid",STYLE_NULL:"none",STYLE_HORIZONTAL:"horizontal",STYLE_VERTICAL:"vertical",STYLE_FORWARD_DIAGONAL:"forwarddiagonal",STYLE_BACKWARD_DIAGONAL:"backwarddiagonal",STYLE_CROSS:"cross",STYLE_DIAGONAL_CROSS:"diagonalcross",STYLE_FORWARDDIAGONAL:"forwarddiagonal",STYLE_BACKWARDDIAGONAL:"backwarddiagonal",STYLE_DIAGONALCROSS:"diagonalcross"},e={style:q.STYLE_SOLID,color:[0,0,0,0.25]};a=a(d,{declaredClass:"esri.symbol.SimpleFillSymbol",type:"simplefillsymbol",
patternUrlPrefix:b.toUrl("../images/symbol/sfs/"),_styles:{solid:"esriSFSSolid",none:"esriSFSNull",horizontal:"esriSFSHorizontal",vertical:"esriSFSVertical",forwarddiagonal:"esriSFSForwardDiagonal",backwarddiagonal:"esriSFSBackwardDiagonal",cross:"esriSFSCross",diagonalcross:"esriSFSDiagonalCross"},constructor:function(a,b,d){a?n.isString(a)?(this.style=a,void 0!==b&&(this.outline=b),void 0!==d&&(this.color=d)):this.style=g.valueOf(this._styles,a.style):(n.mixin(this,e),this.outline=new c(this.outline),
this.color=new k(this.color))},setStyle:function(a){this.style=a;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){var a=this.style;return a===q.STYLE_NULL?null:a===q.STYLE_SOLID?this.color:n.mixin({},f.defaultPattern,{src:this.patternUrlPrefix+a+".png",width:10,height:10})},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 E"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){return g.fixJson(n.mixin(this.inherited("toJson",
arguments),{type:"esriSFS",style:this._styles[this.style]}))}});n.mixin(a,q);a.defaultProps=e;return a})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(a,n,k,m,f,h,g,d,c){var b=n.getObject("dojox.gfx",!0),q=b._base={};b._hasClass=function(a,b){var c=a.getAttribute("className");return c&&0<=(" "+c+" ").indexOf(" "+b+" ")};b._addClass=function(a,
b){var c=a.getAttribute("className")||"";if(!c||0>(" "+c+" ").indexOf(" "+b+" "))a.setAttribute("className",c+(c?" ":"")+b)};b._removeClass=function(a,b){var c=a.getAttribute("className");c&&a.setAttribute("className",c.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};q._getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b;m("ie")&&(f.doc.documentElement.style.fontSize="100%");var c=d.create("div",
{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},f.body());for(b in a)c.style.fontSize=b,a[b]=16*Math.round(12*c.offsetHeight/16)/12/1E3;f.body().removeChild(c);return a};var e=null;q._getCachedFontMeasurements=function(a){if(a||!e)e=q._getFontMeasurements();return e};var l=null,u={};q._getTextBox=function(a,b,e){var g,h,k=arguments.length,m;l||(l=d.create("div",{style:{position:"absolute",
top:"-10000px",left:"0"}},f.body()));g=l;g.className="";h=g.style;h.borderWidth="0";h.margin="0";h.padding="0";h.outline="0";if(1<k&&b)for(m in b)m in u||(h[m]=b[m]);2<k&&e&&(g.className=e);g.innerHTML=a;return g.getBoundingClientRect?(g=g.getBoundingClientRect(),{l:g.left,t:g.top,w:g.width||g.right-g.left,h:g.height||g.bottom-g.top}):c.getMarginBox(g)};q._computeTextLocation=function(a,b,c,d){var e={};switch(a.align){case "end":e.x=a.x-b;break;case "middle":e.x=a.x-b/2;break;default:e.x=a.x}e.y=
a.y-c*(d?0.75:1);return e};q._computeTextBoundingBox=function(a){if(!b._base._isRendered(a))return{x:0,y:0,width:0,height:0};var c;c=a.getShape();var d=a.getFont()||b.defaultFont;a=a.getTextWidth();d=b.normalizedLength(d.size);c=q._computeTextLocation(c,a,d,!0);return{x:c.x,y:c.y,width:a,height:d}};q._isRendered=function(a){for(a=a.parent;a&&a.getParent;)a=a.parent;return null!==a};var r=0;q._getUniqueId=function(){var b;do b=a._scopeName+"xUnique"+ ++r;while(g.byId(b));return b};q._fixMsTouchAction=
function(a){a=a.rawNode;"undefined"!=typeof a.style.msTouchAction&&(a.style.msTouchAction="none")};n.mixin(b,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",
decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,
height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var a={};return function(c){var d=a[c];if(d)return new d;d=a[c]=new Function;d.prototype=b["default"+c];return new d}}(),normalizeColor:function(a){return a instanceof k?a:new k(a)},normalizeParameters:function(a,b){var c;if(b){var d={};for(c in a)c in b&&!(c in d)&&(a[c]=b[c])}return a},makeParameters:function(a,b){var c=null;if(!b)return n.delegate(a);var d=
{};for(c in a)c in d||(d[c]=n.clone(c in b?b[c]:a[c]));return d},formatNumber:function(a,b){var c=a.toString();if(0<=c.indexOf("e"))c=a.toFixed(4);else{var d=c.indexOf(".");0<=d&&5<c.length-d&&(c=a.toFixed(4))}return 0>a?c:b?" "+c:c},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(a){var c=b.getDefault("Font");a=a.split(/\s+/);if(!(5>a.length)){c.style=a[0];c.variant=a[1];c.weight=a[2];var d=a[3].indexOf("/");c.size=0>d?a[3]:a[3].substring(0,
d);var e=4;0>d&&("/"==a[4]?e=6:"/"==a[4].charAt(0)&&(e=5));e<a.length&&(c.family=a.slice(e).join(" "))}return c},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return b._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(a){return a*b.px_in_pt()},px2pt:function(a){return a/b.px_in_pt()},normalizedLength:function(a){if(0===a.length)return 0;if(2<a.length){var c=b.px_in_pt(),d=parseFloat(a);switch(a.slice(-2)){case "px":return d;case "pt":return d*c;case "in":return 72*d*c;case "pc":return 12*
d*c;case "mm":return d*b.mm_in_pt*c;case "cm":return d*b.cm_in_pt*c}}return parseFloat(a)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b},switchTo:function(a){var c="string"==typeof a?b[a]:a;c&&(h.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath EsriPath Surface createSurface fixTarget".split(" "),function(a){b[a]=c[a]}),"string"==
typeof a?b.renderer=a:h.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(a){return b.renderer=b[a]&&b[a].Surface===b.Surface?a:null}))}});return b})},"esri/config":function(){define(["../dojo/_base/config","dojo/topic","dojo/has","./kernel"],function(a,n,k,m){k={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,
labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,panDuration:350,panRate:25,logoLink:"http://www.esri.com",basemaps:{streets:{title:"Streets",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer"}]},satellite:{title:"Satellite",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}]},
hybrid:{title:"Imagery with Labels",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",isReference:!0}]},topo:{title:"Topographic",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer"}]},gray:{title:"Light Gray Canvas",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer"},
{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",isReference:!0}]},oceans:{title:"Oceans",baseMapLayers:[{url:"http://services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{url:"http://services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",isReference:!0}]},"national-geographic":{title:"National Geographic",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer"}]},
osm:{title:"OpenStreetMap",baseMapLayers:[{type:"OpenStreetMap"}]}}},autoSpatialIndexing:window.Worker&&!1,io:{errorHandler:function(a,h){n.publish("esri.Error",[a])},proxyUrl:null,alwaysUseProxy:!1,useCors:!0,corsEnabledServers:"www.arcgis.com tiles.arcgis.com services.arcgis.com services1.arcgis.com services2.arcgis.com services3.arcgis.com static.arcgis.com utility.arcgisonline.com geocode.arcgis.com geoenrich.arcgis.com qaext.arcgis.com tilesqa.arcgis.com servicesqa.arcgis.com servicesqa1.arcgis.com servicesqa2.arcgis.com servicesqa3.arcgis.com geocodeqa.arcgis.com geoenrichqa.arcgis.com dev.arcgis.com devext.arcgis.com tilesdevext.arcgis.com servicesdev.arcgis.com servicesdev1.arcgis.com servicesdev2.arcgis.com servicesdev3.arcgis.com geocodedev.arcgis.com geoenrichdev.arcgis.com".split(" "),
corsDetection:window.cordova?!1:!0,_processedCorsServers:{},webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5}}};a.noGlobals||(window.esriConfig=k);return k})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(a,n,k,m,f,h){function g(a,c){var d=a.getAttributeNode&&a.getAttributeNode(c);return d&&d.specified}var d={innerHTML:1,className:1,htmlFor:n("ie"),value:1},c={classname:"class",
htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};a.has=function(a,f){var e=f.toLowerCase();return d[h.names[e]||f]||g(m.byId(a),c[e]||f)};a.get=function(a,f){a=m.byId(a);var e=f.toLowerCase(),l=h.names[e]||f,n=a[l];if(d[l]&&"undefined"!=typeof n||"href"!=l&&("boolean"==typeof n||k.isFunction(n)))return n;e=c[e]||f;return g(a,e)?a.getAttribute(e):null};a.set=function(b,g,e){b=m.byId(b);if(2==arguments.length){for(var l in g)a.set(b,l,g[l]);return b}l=g.toLowerCase();var n=h.names[l]||g,r=d[n];
if("style"==n&&"string"!=typeof e)return f.set(b,e),b;if(r||"boolean"==typeof e||k.isFunction(e))return h.set(b,g,e);b.setAttribute(c[l]||g,e);return b};a.remove=function(a,d){m.byId(a).removeAttribute(c[d.toLowerCase()]||d)};a.getNodeProp=function(a,d){a=m.byId(a);var e=d.toLowerCase(),f=h.names[e]||d;if(f in a&&"href"!=f)return a[f];e=c[e]||d;return g(a,e)?a.getAttribute(e):null}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(a,n,k){function m(a){setTimeout(function(){h.apply(f,
a)},0)}var f=new k,h=f.emit;f.emit=null;n.prototype.trace=function(){var f=a._toArray(arguments);this.then(function(a){m(["resolved",a].concat(f))},function(a){m(["rejected",a].concat(f))},function(a){m(["progress",a].concat(f))});return this};n.prototype.traceRejected=function(){var f=a._toArray(arguments);this.otherwise(function(a){m(["rejected",a].concat(f))});return this};return f})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(a,
n,k,m,f){var h={};a.setObject("dojo.number",h);h.format=function(d,c){c=a.mixin({},c||{});var b=n.normalizeLocale(c.locale),b=n.getLocalization("dojo.cldr","number",b);c.customs=b;b=c.pattern||b[(c.type||"decimal")+"Format"];return isNaN(d)||Infinity==Math.abs(d)?null:h._applyPattern(d,b,c)};h._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;h._applyPattern=function(a,c,b){b=b||{};var f=b.customs.group,e=b.customs.decimal;c=c.split(";");var g=c[0];c=c[0>a?1:0]||"-"+g;if(-1!=c.indexOf("%"))a*=100;else if(-1!=
c.indexOf("\u2030"))a*=1E3;else if(-1!=c.indexOf("\u00a4"))f=b.customs.currencyGroup||f,e=b.customs.currencyDecimal||e,c=c.replace(/\u00a4{1,3}/,function(a){return b[["symbol","currency","displayName"][a.length-1]]||b.currency||""});else if(-1!=c.indexOf("E"))throw Error("exponential notation not supported");var k=h._numberPatternRE,g=g.match(k);if(!g)throw Error("unable to find a number expression in pattern: "+c);!1===b.fractional&&(b.places=0);return c.replace(k,h._formatAbsolute(a,g[0],{decimal:e,
group:f,places:b.places,round:b.round}))};h.round=function(a,c,b){b=10/(b||10);return(b*+a).toFixed(c)/b};if(0==(0.9).toFixed()){var g=h.round;h.round=function(a,c,b){var f=Math.pow(10,-c||0),e=Math.abs(a);if(!a||e>=f)f=0;else if(e/=f,0.5>e||0.95<=e)f=0;return g(a,c,b)+(0<a?f:-f)}}h._formatAbsolute=function(a,c,b){b=b||{};!0===b.places&&(b.places=0);Infinity===b.places&&(b.places=6);c=c.split(".");var f="string"==typeof b.places&&b.places.indexOf(","),e=b.places;f?e=b.places.substring(f+1):0<=e||
(e=(c[1]||[]).length);0>b.round||(a=h.round(a,e,b.round));a=String(Math.abs(a)).split(".");var g=a[1]||"";c[1]||b.places?(f&&(b.places=b.places.substring(0,f)),f=void 0!==b.places?b.places:c[1]&&c[1].lastIndexOf("0")+1,f>g.length&&(a[1]=m.pad(g,f,"0",!0)),e<g.length&&(a[1]=g.substr(0,e))):a[1]&&a.pop();e=c[0].replace(",","");f=e.indexOf("0");-1!=f&&(f=e.length-f,f>a[0].length&&(a[0]=m.pad(a[0],f)),-1==e.indexOf("#")&&(a[0]=a[0].substr(a[0].length-f)));var e=c[0].lastIndexOf(","),k,n;-1!=e&&(k=c[0].length-
e-1,c=c[0].substr(0,e),e=c.lastIndexOf(","),-1!=e&&(n=c.length-e-1));c=[];for(e=a[0];e;)f=e.length-k,c.push(0<f?e.substr(f):e),e=0<f?e.slice(0,f):"",n&&(k=n,delete n);a[0]=c.reverse().join(b.group||",");return a.join(b.decimal||".")};h.regexp=function(a){return h._parseInfo(a).regexp};h._parseInfo=function(a){a=a||{};var c=n.normalizeLocale(a.locale),c=n.getLocalization("dojo.cldr","number",c),b=a.pattern||c[(a.type||"decimal")+"Format"],g=c.group,e=c.decimal,l=1;if(-1!=b.indexOf("%"))l/=100;else if(-1!=
b.indexOf("\u2030"))l/=1E3;else{var k=-1!=b.indexOf("\u00a4");k&&(g=c.currencyGroup||g,e=c.currencyDecimal||e)}c=b.split(";");1==c.length&&c.push("-"+c[0]);c=f.buildGroupRE(c,function(b){b="(?:"+f.escapeString(b,".")+")";return b.replace(h._numberPatternRE,function(b){var c={signed:!1,separator:a.strict?g:[g,""],fractional:a.fractional,decimal:e,exponent:!1};b=b.split(".");var f=a.places;1==b.length&&1!=l&&(b[1]="###");1==b.length||0===f?c.fractional=!1:(void 0===f&&(f=a.pattern?b[1].lastIndexOf("0")+
1:Infinity),f&&void 0==a.fractional&&(c.fractional=!0),!a.places&&f<b[1].length&&(f+=","+b[1].length),c.places=f);b=b[0].split(",");1<b.length&&(c.groupSize=b.pop().length,1<b.length&&(c.groupSize2=b.pop().length));return"("+h._realNumberRegexp(c)+")"})},!0);k&&(c=c.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(b,c,e,g){b=f.escapeString(a[["symbol","currency","displayName"][e.length-1]]||a.currency||"");c=c?"[\\s\\xa0]":"";g=g?"[\\s\\xa0]":"";return!a.strict?(c&&(c+="*"),g&&(g+="*"),"(?:"+
c+b+g+")?"):c+b+g}));return{regexp:c.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:g,decimal:e,factor:l}};h.parse=function(a,c){var b=h._parseInfo(c),f=RegExp("^"+b.regexp+"$").exec(a);if(!f)return NaN;var e=f[1];if(!f[1]){if(!f[2])return NaN;e=f[2];b.factor*=-1}e=e.replace(RegExp("["+b.group+"\\s\\xa0]","g"),"").replace(b.decimal,".");return e*b.factor};h._realNumberRegexp=function(a){a=a||{};"places"in a||(a.places=Infinity);"string"!=typeof a.decimal&&(a.decimal=".");if(!("fractional"in a)||/^0/.test(a.places))a.fractional=
[!0,!1];"exponent"in a||(a.exponent=[!0,!1]);"eSigned"in a||(a.eSigned=[!0,!1]);var c=h._integerRegexp(a),b=f.buildGroupRE(a.fractional,function(b){var c="";b&&0!==a.places&&(c="\\"+a.decimal,c=Infinity==a.places?"(?:"+c+"\\d+)?":c+("\\d{"+a.places+"}"));return c},!0),g=f.buildGroupRE(a.exponent,function(b){return b?"([eE]"+h._integerRegexp({signed:a.eSigned})+")":""}),c=c+b;b&&(c="(?:(?:"+c+")|(?:"+b+"))");return c+g};h._integerRegexp=function(a){a=a||{};"signed"in a||(a.signed=[!0,!1]);"separator"in
a?"groupSize"in a||(a.groupSize=3):a.separator="";var c=f.buildGroupRE(a.signed,function(a){return a?"[-+]":""},!0),b=f.buildGroupRE(a.separator,function(b){if(!b)return"(?:\\d+)";b=f.escapeString(b);" "==b?b="\\s":"\u00a0"==b&&(b="\\s\\xa0");var c=a.groupSize,g=a.groupSize2;return g?(b="(?:0|[1-9]\\d{0,"+(g-1)+"}(?:["+b+"]\\d{"+g+"})*["+b+"]\\d{"+c+"})",0<c-g?"(?:"+b+"|(?:0|[1-9]\\d{0,"+(c-1)+"}))":b):"(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+b+"]\\d{"+c+"})*)"},!0);return c+b};return h})},"esri/renderers/UniqueValueRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer".split(" "),
function(a,n,k,m,f,h,g,d){return a(d,{declaredClass:"esri.renderer.UniqueValueRenderer",constructor:function(a,b,d,e,f){this.values=[];this._symbols={};this.infos=[];a&&!a.declaredClass?(b=a,this.defaultSymbol=(a=b.defaultSymbol)&&(a.declaredClass?a:g.fromJson(a)),this.attributeField=b.field1,this.attributeField2=b.field2,this.attributeField3=b.field3,this.fieldDelimiter=b.fieldDelimiter,this.defaultLabel=b.defaultLabel,n.forEach(b.uniqueValueInfos,this._addValueInfo,this)):(this.defaultSymbol=a,
this.attributeField=b,this.attributeField2=d,this.attributeField3=e,this.fieldDelimiter=f);this._multiple=!!this.attributeField2},addValue:function(a,b){var d=k.isObject(a)?a:{value:a,symbol:b};this._addValueInfo(d)},removeValue:function(a){var b=n.indexOf(this.values,a);-1!==b&&(this.values.splice(b,1),delete this._symbols[a],this.infos.splice(b,1))},getUniqueValueInfo:function(a){var b=this.attributeField,d=a.attributes,e,f;this._multiple?(a=this.attributeField2,e=this.attributeField3,f=[],b&&f.push(d[b]),
a&&f.push(d[a]),e&&f.push(d[e]),b=f.join(this.fieldDelimiter||"")):b=k.isFunction(b)?b(a):d[b];return this._symbols[b]},getSymbol:function(a){return(a=this.getUniqueValueInfo(a))&&a.symbol||this.defaultSymbol},_addValueInfo:function(a){var b=a.value;this.values.push(b);this.infos.push(a);var d=a.symbol;d&&!d.declaredClass&&(a.symbol=g.fromJson(d));this._symbols[b]=a},toJson:function(){var a=h.fixJson,b=k.mixin(this.inherited(arguments),{type:"uniqueValue",field1:this.attributeField,field2:this.attributeField2,
field3:this.attributeField3,fieldDelimiter:this.fieldDelimiter,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),defaultLabel:this.defaultLabel,uniqueValueInfos:n.map(this.infos||[],function(b){b=k.mixin({},b);b.symbol=b.symbol&&b.symbol.toJson();b.value+="";return a(b)})});return a(b)}})})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),function(a,n,k,m,f,h,
g,d){function c(a){return q(a)}function b(a){return a.data||a.text}a.deepCopy=function(b,c){for(var d in c){var f=b[d],g=c[d];f!==g&&(f&&"object"===typeof f&&g&&"object"===typeof g?a.deepCopy(f,g):b[d]=g)}return b};a.deepCreate=function(b,c){c=c||{};var d=g.delegate(b),f,h;for(f in b)(h=b[f])&&"object"===typeof h&&(d[f]=a.deepCreate(h,c[f]));return a.deepCopy(d,c)};var q=Object.freeze||function(a){return a};a.deferred=function(e,f,h,r,p,t){var s=new m(function(a){f&&f(s,e);return!a||!(a instanceof
n)&&!(a instanceof k)?new k("Request canceled",e):a});s.response=e;s.isValid=h;s.isReady=r;s.handleResponse=p;h=s.then(c).otherwise(function(a){a.response=e;throw a;});a.notify&&h.then(g.hitch(a.notify,"emit","load"),g.hitch(a.notify,"emit","error"));r=h.then(b);p=new d;for(var x in r)r.hasOwnProperty(x)&&(p[x]=r[x]);p.response=h;q(p);t&&s.then(function(a){t.call(s,a)},function(a){t.call(s,e,a)});s.promise=p;s.then=p.then;return s};a.addCommonMethods=function(a,b){h.forEach(b||["GET","POST","PUT",
"DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,d){d=g.delegate(d||{});d.method=b;return a(c,d)}})};a.parseArgs=function(a,b,c){var d=b.data,g=b.query;d&&!c&&"object"===typeof d&&(b.data=f.objectToQuery(d));g?("object"===typeof g&&(g=f.objectToQuery(g)),b.preventCache&&(g+=(g?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(g="request.preventCache\x3d"+ +new Date);a&&g&&(a+=(~a.indexOf("?")?"\x26":"?")+g);return{url:a,options:b,getHeader:function(a){return null}}};
a.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/io-query":function(){define(["./_base/lang"],function(a){var n={};return{objectToQuery:function(k){var m=encodeURIComponent,f=[],h;for(h in k){var g=k[h];if(g!=n[h]){var d=m(h)+"\x3d";if(a.isArray(g))for(var c=0,b=g.length;c<b;++c)f.push(d+m(g[c]));else f.push(d+m(g))}}return f.join("\x26")},queryToObject:function(k){var m=decodeURIComponent;k=k.split("\x26");for(var f={},h,g,d=0,c=k.length;d<c;++d)if(g=k[d],g.length){var b=
g.indexOf("\x3d");0>b?(h=m(g),g=""):(h=m(g.slice(0,b)),g=m(g.slice(b+1)));"string"==typeof f[h]&&(f[h]=[f[h]]);a.isArray(f[h])?f[h].push(g):f[h]=g}return f}}})},"esri/symbols/LineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ./Symbol".split(" "),function(a,n,k,m,f,h){return a(h,{declaredClass:"esri.symbol.LineSymbol",constructor:function(a){n.isObject(a)?this.width=m.pt2px(this.width):this.width=12},setWidth:function(a){this.width=a;return this},
toJson:function(){var a=m.px2pt(this.width),a=isNaN(a)?void 0:a;return n.mixin(this.inherited("toJson",arguments),{width:a})}})})},"dojo/Evented":function(){define(["./aspect","./on"],function(a,n){function k(){}var m=a.after;k.prototype={on:function(a,h){return n.parse(this,a,h,function(a,d){return m(a,"on"+d,h,!0)})},emit:function(a,h){var g=[this];g.push.apply(g,arguments);return n.emit.apply(n,g)}};return k})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(a,n,k,m,f,h,g,d,c,b,q,e,l,u,r,p){a._xhrObj=r._create;var t=a.config;a.objectToQuery=m.objectToQuery;a.queryToObject=m.queryToObject;a.fieldToObject=h.fieldToObject;a.formToObject=h.toObject;a.formToQuery=h.toQuery;a.formToJson=h.toJson;a._blockAsync=!1;var s=a._contentHandlers=a.contentHandlers={text:function(a){return a.responseText},json:function(a){return c.fromJson(a.responseText||null)},"json-comment-filtered":function(a){d.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
a=a.responseText;var b=a.indexOf("/*"),e=a.lastIndexOf("*/");if(-1==b||-1==e)throw Error("JSON was not comment filtered");return c.fromJson(a.substring(b+2,e))},javascript:function(b){return a.eval(b.responseText)},xml:function(a){var b=a.responseXML;b&&(n("dom-qsa2.1")&&!b.querySelectorAll&&n("dom-parser"))&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(n("ie")&&(!b||!b.documentElement)){var c=function(a){return"MSXML"+a+".DOMDocument"},c=["Microsoft.XMLDOM",c(6),c(4),
c(3),c(2)];q.some(c,function(c){try{var d=new ActiveXObject(c);d.async=!1;d.loadXML(a.responseText);b=d}catch(e){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?s["json-comment-filtered"](a):s.json(a)}};n("native-xhr2")&&(s.arraybuffer=s.blob=s.document=function(a,b){return"blob"===b.args.handleAs&&!n("native-xhr2-blob")?new Blob([a.response],{type:a.getResponseHeader("Content-Type")}):a.response});a._ioSetArgs=function(c,
d,e,l){var k={args:c,url:c.url},n=null;if(c.form){var n=f.byId(c.form),q=n.getAttributeNode("action");k.url=k.url||(q?q.value:null);n=h.toObject(n)}q=[{}];n&&q.push(n);c.content&&q.push(c.content);c.preventCache&&q.push({"dojo.preventCache":(new Date).valueOf()});k.query=m.objectToQuery(b.mixin.apply(null,q));k.handleAs=c.handleAs||"text";var p=new g(function(a){a.canceled=!0;d&&d(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});p.addCallback(e);
var r=c.load;r&&b.isFunction(r)&&p.addCallback(function(a){return r.call(c,a,k)});var s=c.error;s&&b.isFunction(s)&&p.addErrback(function(a){return s.call(c,a,k)});var u=c.handle;u&&b.isFunction(u)&&p.addBoth(function(a){return u.call(c,a,k)});p.addErrback(function(a){return l(a,p)});t.ioPublish&&(a.publish&&!1!==k.args.ioPublish)&&(p.addCallbacks(function(b){a.publish("/dojo/io/load",[p,b]);return b},function(b){a.publish("/dojo/io/error",[p,b]);return b}),p.addBoth(function(b){a.publish("/dojo/io/done",
[p,b]);return b}));p.ioArgs=k;return p};var x=function(a){a=s[a.ioArgs.handleAs](a.ioArgs.xhr,a.ioArgs);return void 0===a?null:a},w=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},y=function(b){0>=v&&(v=0,t.ioPublish&&(a.publish&&(!b||b&&!1!==b.ioArgs.args.ioPublish))&&a.publish("/dojo/io/stop"))},v=0;l.after(u,"_onAction",function(){v-=1});l.after(u,"_onInFlight",y);a._ioCancelAll=u.cancelAll;a._ioNotifyStart=function(b){t.ioPublish&&(a.publish&&!1!==b.ioArgs.args.ioPublish)&&(v||
a.publish("/dojo/io/start"),v+=1,a.publish("/dojo/io/send",[b]))};a._ioWatch=function(a,c,d,e){a.ioArgs.options=a.ioArgs.args;b.mixin(a,{response:a.ioArgs,isValid:function(b){return c(a)},isReady:function(b){return d(a)},handleResponse:function(b){return e(a)}});u(a);y(a)};a._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};a.xhr=function(b,c,d){var e,f=a._ioSetArgs(c,function(a){e&&e.cancel()},x,w),g=f.ioArgs;"postData"in c?g.query=c.postData:
"putData"in c?g.query=c.putData:"rawBody"in c?g.query=c.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(b.toUpperCase()))&&a._ioAddQueryToUrl(g);var h;n("native-xhr2")&&(h={arraybuffer:1,blob:1,document:1});h=n("native-xhr2")&&h[c.handleAs]?c.handleAs:"text";"blob"===h&&!n("native-xhr2-blob")&&(h="arraybuffer");h={method:b,handleAs:h,responseType:c.responseType,timeout:c.timeout,withCredentials:c.withCredentials,ioArgs:g};"undefined"!==typeof c.headers&&(h.headers=c.headers);"undefined"!==
typeof c.contentType&&(h.headers||(h.headers={}),h.headers["Content-Type"]=c.contentType);"undefined"!==typeof g.query&&(h.data=g.query);"undefined"!==typeof c.sync&&(h.sync=c.sync);a._ioNotifyStart(f);try{e=r(g.url,h,!0)}catch(l){return f.cancel(),f}f.ioArgs.xhr=e.response.xhr;e.then(function(){f.resolve(f)}).otherwise(function(a){g.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);f.reject(a)});return f};a.xhrGet=function(b){return a.xhr("GET",
b)};a.rawXhrPost=a.xhrPost=function(b){return a.xhr("POST",b,!0)};a.rawXhrPut=a.xhrPut=function(b){return a.xhr("PUT",b,!0)};a.xhrDelete=function(b){return a.xhr("DELETE",b)};a._isDocumentOk=function(a){return p.checkStatus(a.status)};a._getText=function(b){var c;a.xhrGet({url:b,sync:!0,load:function(a){c=a}});return c};b.mixin(a.xhr,{_xhrObj:a._xhrObj,fieldToObject:h.fieldToObject,formToObject:h.toObject,objectToQuery:m.objectToQuery,formToQuery:h.toQuery,formToJson:h.toJson,queryToObject:m.queryToObject,
contentHandlers:s,_ioSetArgs:a._ioSetArgs,_ioCancelAll:a._ioCancelAll,_ioNotifyStart:a._ioNotifyStart,_ioWatch:a._ioWatch,_ioAddQueryToUrl:a._ioAddQueryToUrl,_isDocumentOk:a._isDocumentOk,_getText:a._getText,get:a.xhrGet,post:a.xhrPost,put:a.xhrPut,del:a.xhrDelete});return a.xhr})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(a,n,k){a._name="browser";n.mixin(a,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:k("khtml"),isWebKit:k("webkit"),isMozilla:k("mozilla"),isMoz:k("mozilla"),
isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:k("android"),isWii:k("wii"),isQuirks:k("quirks"),isAir:k("air")});return k})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(a,n,k){var m={global:a.global,doc:this.document||null,body:function(f){f=f||a.doc;return f.body||f.getElementsByTagName("body")[0]},setContext:function(f,h){a.global=m.global=f;a.doc=m.doc=h},withGlobal:function(f,h,g,d){var c=a.global;try{return a.global=
m.global=f,m.withDoc.call(null,f.document,h,g,d)}finally{a.global=m.global=c}},withDoc:function(f,h,g,d){var c=m.doc,b=k("quirks"),n=k("ie"),e,l,u;try{a.doc=m.doc=f;a.isQuirks=k.add("quirks","BackCompat"==a.doc.compatMode,!0,!0);if(k("ie")&&(u=f.parentWindow)&&u.navigator)e=parseFloat(u.navigator.appVersion.split("MSIE ")[1])||void 0,(l=f.documentMode)&&(5!=l&&Math.floor(e)!=l)&&(e=l),a.isIE=k.add("ie",e,!0,!0);g&&"string"==typeof h&&(h=g[h]);return h.apply(g,d||[])}finally{a.doc=m.doc=c,a.isQuirks=
k.add("quirks",b,!0,!0),a.isIE=k.add("ie",n,!0,!0)}}};n.mixin(a,m);return m})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(a,n){return function(k,m,f,h){var g=k&&"function"===typeof k.then,d=g&&k instanceof n;if(g)d||(g=new a(k.cancel),k.then(g.resolve,g.reject,g.progress),k=g.promise);else return 1<arguments.length?m?m(k):k:(new a).resolve(k);return m||f||h?k.then(m,f,h):k}})},"dojo/errors/RequestError":function(){define(["./create"],function(a){return a("RequestError",
function(a,k){this.response=k})})},"esri/renderers/ClassBreaksRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer".split(" "),function(a,n,k,m,f,h,g,d){return a(d,{declaredClass:"esri.renderer.ClassBreaksRenderer",constructor:function(a,b){this.breaks=[];this._symbols={};this.infos=[];this.isMaxInclusive=!0;if(a&&!a.declaredClass){var d=a;this.attributeField=d.field;this.defaultSymbol=(a=d.defaultSymbol)&&(a.declaredClass?
a:g.fromJson(a));this.backgroundFillSymbol=(a=d.backgroundFillSymbol)&&(a.declaredClass?a:g.fromJson(a));this._copy(["defaultLabel","classificationMethod:rest","normalizationType:rest","normalizationField","normalizationTotal"],d,this);var e=d.minValue;(d=d.classBreakInfos)&&(d[0]&&h.isDefined(d[0].classMaxValue))&&n.forEach(d,function(a){var b=a.classMaxValue;a.minValue=e;e=a.maxValue=b},this);n.forEach(d,this._addBreakInfo,this)}else this.defaultSymbol=a,this.attributeField=b},addBreak:function(a,
b,d){a=k.isObject(a)?a:{minValue:a,maxValue:b,symbol:d};this._addBreakInfo(a)},removeBreak:function(a,b){var d,e=this.breaks,f,g=e.length,h=this._symbols;for(f=0;f<g;f++)if(d=e[f],d[0]==a&&d[1]==b){e.splice(f,1);delete h[a+"-"+b];this.infos.splice(f,1);break}},clearBreaks:function(){this.breaks=[];this._symbols={};this.infos=[]},getBreakIndex:function(a){var b=this.attributeField,d=a.attributes,e=this.breaks,f=e.length,g=this.isMaxInclusive;if(k.isFunction(b))a=b(a);else{a=parseFloat(d[b]);var b=
this.normalizationType,h;b&&(h=parseFloat(this.normalizationTotal),d=parseFloat(d[this.normalizationField]),"log"===b?a=Math.log(a)*Math.LOG10E:"percent-of-total"===b&&!isNaN(h)?a=100*(a/h):"field"===b&&!isNaN(d)&&(a/=d))}for(d=0;d<f;d++)if(b=e[d],b[0]<=a&&(g?a<=b[1]:a<b[1]))return d;return-1},getBreakInfo:function(a){a=this.getBreakIndex(a);return-1!==a?this.infos[a]:null},getSymbol:function(a){return(a=this.breaks[this.getBreakIndex(a)])?this._symbols[a[0]+"-"+a[1]]:this.defaultSymbol},setMaxInclusive:function(a){this.isMaxInclusive=
a},_normalizationTypeEnums:[["field","esriNormalizeByField"],["log","esriNormalizeByLog"],["percent-of-total","esriNormalizeByPercentOfTotal"]],_classificationMethodEnums:[["natural-breaks","esriClassifyNaturalBreaks"],["equal-interval","esriClassifyEqualInterval"],["quantile","esriClassifyQuantile"],["standard-deviation","esriClassifyStandardDeviation"],["geometrical-interval","esriClassifyGeometricalInterval"]],_copy:function(a,b,d){n.forEach(a,function(a){var c=a.split(":"),f,g,h;1<c.length&&(a=
c[0],f=this["_"+a+"Enums"],"rest"===c[1]?(g="1",h="0"):"sdk"===c[1]&&(g="0",h="1"));c=b[a];if(void 0!==c&&(d[a]=c,f&&g)){var k,m=f.length;for(k=0;k<m;k++)if(f[k][g]===c){d[a]=f[k][h];break}}},this)},_addBreakInfo:function(a){var b=a.minValue,d=a.maxValue;this.breaks.push([b,d]);this.infos.push(a);var e=a.symbol;e&&!e.declaredClass&&(a.symbol=g.fromJson(e));this._symbols[b+"-"+d]=a.symbol},toJson:function(){var a=this.infos||[],b=h.fixJson,d=a[0]&&a[0].minValue,e=this.backgroundFillSymbol,a=k.mixin(this.inherited(arguments),
{type:"classBreaks",field:this.attributeField,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),backgroundFillSymbol:e&&e.toJson(),minValue:-Infinity===d?-Number.MAX_VALUE:d,classBreakInfos:n.map(a,function(a){a=k.mixin({},a);a.symbol=a.symbol&&a.symbol.toJson();a.classMaxValue=Infinity===a.maxValue?Number.MAX_VALUE:a.maxValue;delete a.minValue;delete a.maxValue;return b(a)})});this._copy(["defaultLabel","classificationMethod:sdk","normalizationType:sdk","normalizationField","normalizationTotal"],
this,a);return b(a)}})})},"*now":function(a){a(['dojo/i18n!*preload*esri/nls/renderer*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("./renderers/Renderer ./renderers/SimpleRenderer ./renderers/UniqueValueRenderer ./renderers/ClassBreaksRenderer ./renderers/TemporalRenderer ./renderers/SymbolAger ./renderers/TimeClassBreaksAger ./renderers/TimeRampAger ./renderers/jsonUtils".split(" "),function(a,n,k,m,f,h,g,d,c){return{Renderer:a,SimpleRenderer:n,UniqueValueRenderer:k,ClassBreaksRenderer:m,TemporalRenderer:f,SymbolAger:h,TimeClassBreaksAger:g,TimeRampAger:d,jsonUtils:c}});